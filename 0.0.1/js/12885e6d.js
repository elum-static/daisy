var e=Object.defineProperty,t=(t,n,s)=>(((t,n,s)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s})(t,"symbol"!=typeof n?n+"":n,s),s);import{a as n,j as s,p as i,q as a,c as r,O as c,r as o,w as l,P as h,n as d,g as u,b as p,s as m,d as f,m as g,E as w,A as v,V as y,i as x,S as b,l as M,T as _}from"./821758e6.js";import{r as k,m as S,c as I,E as N,F as C,C as z,A,a as E,S as F,b as T,L as Z,u as R,U as X,d as $,e as D,R as Y,f as P,g as B,h as j,P as q,B as U,i as V,T as L,j as O,l as W,s as K,k as H,t as G,n as J,o as Q,p as ee,q as te,v as ne,w as se,x as ie,y as ae,z as re,N as ce}from"./3a8d02c2.js";const oe=({children:e})=>n("div",{className:"ShortClouds",children:s("div",{className:"ShortClouds__inner",children:[n("span",{}),n("span",{}),n("span",{}),n("span",{}),n("span",{}),n("span",{}),n("span",{}),n("span",{})]})});var le=S("Icon32ErrorCircle","error_circle_32","0 0 32 32",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32" id="error_circle_32"><path fill-rule="evenodd" d="M16 30c7.732 0 14-6.268 14-14S23.732 2 16 2 2 8.268 2 16s6.268 14 14 14Zm1.333-14v-5.333a1.333 1.333 0 0 0-2.666 0V16a1.333 1.333 0 0 0 2.666 0Zm.334 5.666V21c0-.736-.598-1.333-1.334-1.333h-.666c-.737 0-1.334.597-1.334 1.333v.666c0 .737.597 1.334 1.334 1.334h.666c.737 0 1.334-.597 1.334-1.334Z" clip-rule="evenodd" /></symbol>',32,32,!1,void 0);class he{constructor(){t(this,"ratio",[0,0]),t(this,"width",0),t(this,"height",0),t(this,"unitSize",0),t(this,"partsX",[]),t(this,"partsY",[]),t(this,"update",((e,t,n)=>{if(this.height===n&&this.width===t)return;this.height=n,this.width=t,this.ratio=e;const[s,i]=this.ratio,a=this.height/i;if(a*s>this.width){const e=this.width/s,t=i*e,n=t/i,a=(this.height-t)/2;this.partsX=[],this.partsY=[];for(let i=0;i<s;i++)this.partsX[i]=i*e+e/2;for(let s=0;s<i;s++)this.partsY[s]=s*n+a+e/2;return void(this.unitSize=e)}const r=s*a,c=r/s,o=(this.width-r)/2;for(let l=0;l<s;l++)this.partsX[l]=l*c+o+c/2;for(let l=0;l<i;l++)this.partsY[l]=l*a+c/2;this.unitSize=c})),t(this,"getMeter",(e=>this.meter*e)),t(this,"getY",(e=>this.partsY[e-1]??0)),t(this,"getX",(e=>this.partsX[e-1]??0)),t(this,"getCordinate",((e,t)=>[this.getX(e),this.getY(t)])),t(this,"isCollision",((e,t)=>!(e.x+e.width<t.x||e.x>t.x+t.width||e.y+e.height<t.y||e.y>t.y+t.height))),t(this,"random",((e,t)=>{let n=e-.5+Math.random()*(t-e+1);return Math.round(n)})),t(this,"mutexSet",new Set),t(this,"mutex",((e,t)=>{const n=e.unique,s=t.unique;return!this.mutexSet.has(n+s)&&!this.mutexSet.has(s+n)&&(this.mutexSet.add(n+s),!0)}))}get clampX(){return[this.partsX[0],this.partsX[this.partsX.length-1]+this.meter]}get clampY(){return[this.partsY[0],this.partsY[this.partsY.length-1]+this.meter]}get meter(){return this.unitSize||0}}class de{constructor(e,n,s,i){t(this,"unique"),t(this,"x"),t(this,"y"),t(this,"width"),t(this,"height"),this.x=e,this.y=n,this.width=s,this.height=i,this.unique=function(e){const t="abdehkmnpswxzABDEFGHKMNPQRSTWXZ123456789";for(var n="",s=0;s<e;s++){var i=Math.floor(40*Math.random());n+=t.substring(i,i+1)}return n}(32)}}let ue;class pe extends de{constructor(){super(0,0,0,0),t(this,"render",((e,t,n)=>{this.width=n.getMeter(1.8),this.height=n.getMeter(.9);const s=this.width/2,[i,a]=n.clampX,r=n.getMeter(1)/2;if(this.x=I(t-s,i-r,a-this.width-r),this.y=n.getY(15)-r,ue)return void e.drawImage(ue,this.x,this.y,this.width,this.height);const c=new Image(this.width,this.height),o=window.unescape||window.decodeURI;c.src=`data:image/svg+xml;base64,${window.btoa(o(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100"><rect fill="#fff" x="1" y="1" width="198" height="17" rx="8.5" /></svg>')))}`,ue=c,e.drawImage(ue,this.x,this.y,this.width,this.height)}))}}class me extends de{constructor(e,n,s,i,a){super(e,n,s,i),t(this,"execute"),t(this,"render",((e,t)=>{})),this.execute=()=>a(this)}}var fe={};!function(e,t,n){function s(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var s=.02519603282416938*(e+=t.charCodeAt(n));s-=e=s>>>0,e=(s*=e)>>>0,e+=4294967296*(s-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function a(e,t){var n=new s(e),a=t&&t.state,r=n.next;return r.int32=function(){return 4294967296*n.next()|0},r.double=function(){return r()+11102230246251565e-32*(2097152*r()|0)},r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}t&&t.exports?t.exports=a:this.alea=a}(0,{get exports(){return fe},set exports(e){fe=e}});var ge={};!function(e,t,n){function s(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var s=0;s<n.length+64;s++)t.x^=0|n.charCodeAt(s),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function a(e,t){var n=new s(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}t&&t.exports?t.exports=a:this.xor128=a}(0,{get exports(){return ge},set exports(e){ge=e}});var we={};!function(e,t,n){function s(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var s=0;s<n.length+64;s++)t.x^=0|n.charCodeAt(s),s==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function a(e,t){var n=new s(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}t&&t.exports?t.exports=a:this.xorwow=a}(0,{get exports(){return we},set exports(e){we=e}});var ve={};!function(e,t,n){function s(e){var t=this;t.next=function(){var e,n,s=t.x,i=t.i;return e=s[i],n=(e^=e>>>7)^e<<24,n^=(e=s[i+1&7])^e>>>10,n^=(e=s[i+3&7])^e>>>3,n^=(e=s[i+4&7])^e<<7,e=s[i+7&7],n^=(e^=e<<13)^e<<9,s[i]=n,t.i=i+1&7,n},function(e,t){var n,s=[];if(t===(0|t))s[0]=t;else for(t=""+t,n=0;n<t.length;++n)s[7&n]=s[7&n]<<15^t.charCodeAt(n)+s[n+1&7]<<13;for(;s.length<8;)s.push(0);for(n=0;n<8&&0===s[n];++n);for(8==n?s[7]=-1:s[n],e.x=s,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function a(e,t){null==e&&(e=+new Date);var n=new s(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&(a.x&&i(a,n),r.state=function(){return i(n,{})}),r}t&&t.exports?t.exports=a:this.xorshift7=a}(0,{get exports(){return ve},set exports(e){ve=e}});var ye={};!function(e,t,n){function s(e){var t=this;t.next=function(){var e,n,s=t.w,i=t.X,a=t.i;return t.w=s=s+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(s^s>>>16)|0},function(e,t){var n,s,i,a,r,c=[],o=128;for(t===(0|t)?(s=t,t=null):(t+="\0",s=0,o=Math.max(o,t.length)),i=0,a=-32;a<o;++a)t&&(s^=t.charCodeAt((a+32)%t.length)),0===a&&(r=s),s^=s<<10,s^=s>>>15,s^=s<<4,s^=s>>>13,a>=0&&(r=r+1640531527|0,i=0==(n=c[127&a]^=s+r)?i+1:0);for(i>=128&&(c[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)s=c[i+34&127],n=c[i=i+1&127],s^=s<<13,n^=n<<17,s^=s>>>15,n^=n>>>12,c[i]=s^n;e.w=r,e.X=c,e.i=i}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function a(e,t){null==e&&(e=+new Date);var n=new s(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&(a.X&&i(a,n),r.state=function(){return i(n,{})}),r}t&&t.exports?t.exports=a:this.xor4096=a}(0,{get exports(){return ye},set exports(e){ye=e}});var xe={};!function(e,t,n){function s(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,s=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-s|0,s=s<<24^s>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-s|0,t.d=s<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var s=0;s<n.length+20;s++)t.b^=0|n.charCodeAt(s),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function a(e,t){var n=new s(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}t&&t.exports?t.exports=a:this.tychei=a}(0,{get exports(){return xe},set exports(e){xe=e}});var be={},Me={get exports(){return be},set exports(e){be=e}};const _e=a(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var ke;ke=Me,function(e,t,n){var s,i=256,a="random",r=n.pow(i,6),c=n.pow(2,52),o=2*c,l=i-1;function h(l,h,g){var w=[],v=m(p((h=1==h?{entropy:!0}:h||{}).entropy?[l,f(t)]:null==l?function(){try{var n;return s&&(n=s.randomBytes)?n=n(i):(n=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(n)),f(n)}catch(c){var a=e.navigator,r=a&&a.plugins;return[+new Date,e,r,e.screen,f(t)]}}():l,3),w),y=new d(w),x=function(){for(var e=y.g(6),t=r,n=0;e<c;)e=(e+n)*i,t*=i,n=y.g(1);for(;e>=o;)e/=2,t/=2,n>>>=1;return(e+n)/t};return x.int32=function(){return 0|y.g(4)},x.quick=function(){return y.g(4)/4294967296},x.double=x,m(f(y.S),t),(h.pass||g||function(e,t,s,i){return i&&(i.S&&u(i,y),e.state=function(){return u(y,{})}),s?(n[a]=e,t):e})(x,v,"global"in h?h.global:this==n,h.state)}function d(e){var t,n=e.length,s=this,a=0,r=s.i=s.j=0,c=s.S=[];for(n||(e=[n++]);a<i;)c[a]=a++;for(a=0;a<i;a++)c[a]=c[r=l&r+e[a%n]+(t=c[a])],c[r]=t;(s.g=function(e){for(var t,n=0,a=s.i,r=s.j,c=s.S;e--;)t=c[a=l&a+1],n=n*i+c[l&(c[a]=c[r=l&r+t])+(c[r]=t)];return s.i=a,s.j=r,n})(i)}function u(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function p(e,t){var n,s=[],i=typeof e;if(t&&"object"==i)for(n in e)try{s.push(p(e[n],t-1))}catch(a){}return s.length?s:"string"==i?e:e+"\0"}function m(e,t){for(var n,s=e+"",i=0;i<s.length;)t[l&i]=l&(n^=19*t[l&i])+s.charCodeAt(i++);return f(t)}function f(e){return String.fromCharCode.apply(0,e)}if(m(n.random(),t),ke.exports){ke.exports=h;try{s=_e}catch(g){}}else n["seed"+a]=h}("undefined"!=typeof self?self:i,[],Math);var Se=fe,Ie=ge,Ne=we,Ce=ve,ze=ye,Ae=xe,Ee=be;Ee.alea=Se,Ee.xor128=Ie,Ee.xorwow=Ne,Ee.xorshift7=Ce,Ee.xor4096=ze,Ee.tychei=Ae;var Fe=Ee;class Te extends de{constructor(e,n,s){super(0,0,0,0),t(this,"type"),t(this,"startTimer"),t(this,"X",0),t(this,"Y",0),t(this,"draw"),t(this,"gravity",0),t(this,"point",(e=>{const t=e.entity.player.x/e.game.measure.getMeter(1);e.game.story.push(Number(t.toFixed(3)));const n=Number(t.toFixed(3));var s,i;console.log(this.X,(s=[n,n+1.8],i=[this.X-1,this.X],!(s[1]<i[0]||s[0]>i[1])))})),t(this,"render",((e,t)=>{this.startTimer||(this.startTimer=Date.now(),this.y=t.getY(1)-this.width/2);const n=1e3-e.game.gravity||100;this.width=t.getMeter(1),this.height=t.getMeter(1);const s=this.width/2,[i,a]=t.clampY,r=(a-i)/t.meter,c=Date.now()-this.startTimer;this.x=t.getX(this.X)-s,this.y=this.y+t.getMeter(I(c/n,0,r)),this.draw&&this.draw(),this.startTimer=Date.now()})),this.type=e,this.X=n,this.draw=s}}const Ze=(e,t,n,s)=>`\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">\n  <path d="M194 224c-50-25-167-120-36-188s152 52 118 146c-23 64-82 42-82 42Z" fill="${t}" />\n  <path\n    d="M192 99c35 104-34 115-82 50 20 34 60 63 84 75 0 0 59 22 82-42 10-29 16-62 14-90-4 67-50 101-98 7Z"\n    fill="${n}" />\n  <path d="M271 181c12-54 76-191 173-79s-14 159-114 149c-67-8-59-70-59-70Z" fill="${t}" />\n  <path\n    d="M391 149c-93 59-119-6-68-67-28 27-47 73-53 99 0 0-7 62 60 70 32 3 64 0 91-8-66 12-110-25-30-94Z"\n    fill="${n}" />\n  <path d="M353 242c55 3 200 44 106 158s-160 12-165-88c-4-67 59-70 59-70Z" fill="${t}" />\n  <path\n    d="M404 355c-73-81-14-118 55-78-32-23-80-34-106-35 0 0-63 3-59 70 1 32 9 64 22 89-23-63 6-113 88-46Z"\n    fill="${n}" />\n  <path d="M295 314c21 50 48 199-96 165s-80-139 7-188c59-33 89 23 89 23Z" fill="${t}" />\n  <path\n    d="M215 409c42-101 101-64 95 16 7-39-5-87-15-111 0 0-30-56-89-23-28 16-53 37-70 59 47-48 105-44 79 59Z"\n    fill="${n}" />\n  <path d="M197 316c-43 35-177 105-186-43s108-118 180-49c50 47 6 92 6 92Z" fill="${t}" />\n  <path\n    d="M82 268c109 10 91 77 13 95 39-4 81-30 102-47 0 0 44-45-6-92-23-21-50-39-77-49 60 31 73 87-32 93Z"\n    fill="${n}" />\n  <circle cx="263.6" cy="248.2" r="74.9" fill="${e}" transform="rotate(-83 264 248)" />\n  <ellipse cx="245.1" cy="222.7" fill="${s}" rx="43.7" ry="30.6"\n    transform="rotate(-38 245 223)" />\n</svg>\n`;let Re;const Xe=Ze("#ed407e","#ffeef4","#ffd2e2","#ff99c3");class $e extends Te{constructor(e,n,s){super(et.EMPTY,e,(()=>{if(Re)return void n.drawImage(Re,this.x,this.y,this.width,this.height);const e=new Image(this.width,this.height),t=window.unescape||window.decodeURI;e.src=`data:image/svg+xml;base64,${window.btoa(t(encodeURIComponent(Xe)))}`,Re=e,n.drawImage(Re,this.x,this.y,this.width,this.height)})),t(this,"positive",(e=>{this.point(e),e.entity.units.delete(this),e.game.score+=1})),t(this,"negative",(e=>{this.point(e),e.entity.units.delete(this),e.game.heart-=1,0===e.game.heart&&(e.entity.units=new Set)}))}}let De;const Ye=Ze("#871938","#e50047","#d00841","#c41d4c");class Pe extends Te{constructor(e,n,s){super(et.EMPTY,e,(()=>{if(De)return void n.drawImage(De,this.x,this.y,this.width,this.height);const e=new Image(this.width,this.height),t=window.unescape||window.decodeURI;e.src=`data:image/svg+xml;base64,${window.btoa(t(encodeURIComponent(Ye)))}`,De=e,n.drawImage(De,this.x,this.y,this.width,this.height)})),t(this,"positive",(e=>{this.point(e),e.entity.units.delete(this),e.game.score+=1})),t(this,"negative",(e=>{this.point(e),e.entity.units.delete(this),e.game.heart-=1,0===e.game.heart&&(e.entity.units=new Set)}))}}let Be;const je=Ze("#074f74","#c2f2ff","#40c3f2","#00699b");class qe extends Te{constructor(e,n,s){super(et.EMPTY,e,(()=>{if(Be)return void n.drawImage(Be,this.x,this.y,this.width,this.height);const e=new Image(this.width,this.height),t=window.unescape||window.decodeURI;e.src=`data:image/svg+xml;base64,${window.btoa(t(encodeURIComponent(je)))}`,Be=e,n.drawImage(Be,this.x,this.y,this.width,this.height)})),t(this,"positive",(e=>{this.point(e),e.entity.units.delete(this),e.game.score+=1})),t(this,"negative",(e=>{this.point(e),e.entity.units.delete(this),e.game.heart-=1,0===e.game.heart&&(e.entity.units=new Set)}))}}let Ue;class Ve extends Te{constructor(e,n,s){super(et.SPEED,e,(()=>{if(Ue)return void n.drawImage(Ue,this.x,this.y,this.width,this.height);const e=new Image(this.width,this.height),t=window.unescape||window.decodeURI;e.src=`data:image/svg+xml;base64,${window.btoa(t(encodeURIComponent('\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">\n  <path\n    d="M48 61.5c-3.7 1.3-9.7 4-13.8 5.8s-6.5 3-7.4 4-.4 2 2.4 3a42.5 42.5 0 0 0 12 1.9 23.6 23.6 0 0 0 9-1.7c2-.8 3-1.5 3.6-3.9a19.8 19.8 0 0 0-.3-8.5c-.6-2-2-2-5.6-.7Zm32-32c-1 3.9-2.6 10.6-4.6 17.4a269 269 0 0 1-14.3 37.6C58.8 89 57 92.2 56.5 94s.4 2.3 1.5 2.3 2.8-.8 5-2.5a46.6 46.6 0 0 0 8.2-9.2A133.5 133.5 0 0 0 82 66.8a82.4 82.4 0 0 0 6.1-16.1 22.6 22.6 0 0 0 .7-10.2 39.8 39.8 0 0 0-3-9.6C84.3 28 83 25.6 82 25s-1 .5-2 4.5Zm-34.5-13c-.5-3.5-.9-6.6-.4-8s2-1.2 4.3.2a27.6 27.6 0 0 1 7.2 6 10.2 10.2 0 0 1 2 6.2 14.3 14.3 0 0 1-.5 5.5 5.6 5.6 0 0 1-3 3c-1.5.7-3.4 1.5-4.7 1.3s-2-1.5-2.8-4.1-1.4-6.5-2-10Z"\n     fill="#ffc35a" fill-rule="evenodd" />\n  <path\n    d="M30.8 7a100 100 0 0 0-14.4 5.7c-4 2.2-5.4 4-5.6 8.6s.5 11.7 2 19A133.5 133.5 0 0 0 18 59.8c1.7 4.6 3.1 6.4 4.5 7.8s2.6 2.6 6.9 1.5S41 64.7 45 62.9s4.7-2 5.4 3.6 1.3 17.2 1.8 23 1 5.7 2.6 4.1 4.4-4.5 7.7-10.6a143.5 143.5 0 0 0 10-24 164.2 164.2 0 0 0 5.3-22.6c.9-5.6 1.1-8.6.8-10.8s-1.2-3.4-3.7-3.4-6.4 1.2-10.7 2.7-8.8 3.3-11.2 4.3-2.8 1-3.5.8-1.8-1-2.9-4.6-2.3-10.2-3-14.3-1-5.6-1.6-6.3-1.6-.5-3.2-.1a77.2 77.2 0 0 0-8 2.2Z"\n     fill="#ffc35a" fill-rule="evenodd" />\n  <path fill="#ffa64d" fill-rule="evenodd"\n    d="M20 12c-.5 1.3-1 3-.8 7.9a165.4 165.4 0 0 0 2.9 20c1.4 7 3.2 13.3 4.2 16.6s1.1 3.5 1.6 3.9 1.4.7 5-.5 10-4.2 14.1-6.1 6.1-2.8 7.6-2.9 2.3.7 2.8 3.5a73.8 73.8 0 0 1 .6 12.7c-.1 4.8-.4 9.5-.7 13.5l-.7 11-3.2 3.6c-.6-.9-1.1-1.8-1.6-7.6s-1-16.3-1.3-27l-23.2 10-5.4-1.9c-3.7-9.6-7.3-19.1-9.2-27.3a77 77 0 0 1-2-19c.2-4.1.4-5.6 1.1-6.9a8.7 8.7 0 0 1 3.5-3.3 52.9 52.9 0 0 1 6.2-2.9 16.3 16.3 0 0 0-1.4 2.7Z" />\n  <path\n    d="M50.4 27.7a6.2 6.2 0 0 0 .7-.3A123 123 0 0 1 68.5 20c3.4-1.1 8.9-2.7 12-.5 2.8 2 2.6 5.9 2.1 8.8a233.6 233.6 0 0 1-9 35.8A112 112 0 0 1 60 92.9a15.6 15.6 0 0 1-4.4 4.6 4.2 4.2 0 0 1-4 .3C49.5 96.6 49 93.2 49 91c0-7.4-.3-14.8-.6-22.2l-.1-4.7-1.2.5a213.5 213.5 0 0 1-16 6.9c-5.2 2-10 1.3-12.7-4A120.3 120.3 0 0 1 7.1 23.2c-.3-4.8.7-8.3 4.9-11.2a57.2 57.2 0 0 1 9.6-5.1 85.5 85.5 0 0 1 13.8-4.7c4.7-1 10-1.2 11.5 4.5 1.7 6.6 2.5 13.5 3.4 20.3a3.1 3.1 0 0 0 .1.7Zm3.2 65.5a8.1 8.1 0 0 0 1.7-1.8c5.8-8.2 9.9-19.4 13-28.7a239.4 239.4 0 0 0 9-35.5c.2-.8.4-2.4-.2-3-1-.9-4 0-5 .4A129.5 129.5 0 0 0 53.3 32c-4.6 2.4-7.7.8-8.3-4.3-1-6.8-1.9-14.1-3.6-20.7-.4-1.6-3.4-.6-4.4-.3-7.4 2-16.5 5-22.7 9.5-2 1.4-2 4-1.7 6.1 1.1 14.3 4 30.7 10.5 43.6 1.3 2.5 3.2 2 5.4 1 5.3-2 11-4.1 16.1-6.6l1.7-.8c1.4-.7 4.2-2.1 5.7-1.2 1.7 1 1.4 4.2 1.5 6.1.3 9.1.2 18.7 0 27.8a8.8 8.8 0 0 0 0 1Z"\n     fill="#2d2827" />\n  <path\n    d="m46.2 9.5 6.4 4.2a7.3 7.3 0 0 1 3.4 4 38 38 0 0 1 1.3 5.8c.3 1.6.6 2.1.8 2.3s.6-.3.8-1.3A20.8 20.8 0 0 0 59 20a20.5 20.5 0 0 0-1-5.2 7.5 7.5 0 0 0-2.3-3.2 117.3 117.3 0 0 0-8.8-7.3 15.3 15.3 0 0 0-3-1.9 7.2 7.2 0 0 0-2.4-.6 11.2 11.2 0 0 0-2.1 0 5.2 5.2 0 0 0-2 .4 3.4 3.4 0 0 0-1 1.3c-.3.4-.4.6 0 .8a3.8 3.8 0 0 0 1.5.3 2.7 2.7 0 0 1 1.5.3 32.3 32.3 0 0 1 3 2l3.9 2.7ZM19.8 69.5a22 22 0 0 0 1.9 1.9 21.3 21.3 0 0 0 2.5 1.6 23.1 23.1 0 0 0 2.7 1.4 35 35 0 0 0 3.5 1.1c1.3.5 3 .9 4.5 1.2a31.9 31.9 0 0 0 3.9.5 23 23 0 0 0 3.3 0 17.3 17.3 0 0 0 3.6-.6 27.8 27.8 0 0 0 4-1.3c1-.4 1.2-.7 1.3-1s-.1-.5-.7-.4l-2.9.4a18 18 0 0 1-3.3.3 27.8 27.8 0 0 1-4.1-.1 29.5 29.5 0 0 1-4.3-1 16.1 16.1 0 0 1-3.3-1.2 9.7 9.7 0 0 1-2.1-1.5 19.6 19.6 0 0 1-1.6-1.6c-3.2-.2-6.4-.4-7.8-.3s-1.3.3-1 .6ZM81 20a9.2 9.2 0 0 1 1.4 1.5 22.6 22.6 0 0 1 1.9 2.5l2.3 3.9A51.5 51.5 0 0 1 89 33a44 44 0 0 1 1.9 5.5 16.1 16.1 0 0 1 .5 4 14.7 14.7 0 0 1-.7 4.4 74 74 0 0 1-2.5 7.6A86.3 86.3 0 0 1 81 69.7a276.8 276.8 0 0 1-9.2 15 89.3 89.3 0 0 1-5.5 7 28.4 28.4 0 0 1-4.5 4.4 11 11 0 0 1-3 1.7 9.3 9.3 0 0 1-2.9.5 13.5 13.5 0 0 1-2.8-.2c-.7 0-1-.2-1.3-.8s-.3-1.7.3-2.1 1.8-.1 2.9 0a9.3 9.3 0 0 0 2.7 0 6 6 0 0 0 2.7-1.4 28.5 28.5 0 0 0 4.4-4.6 177.3 177.3 0 0 0 13.2-20.5 113.6 113.6 0 0 0 5.5-11.9 82.6 82.6 0 0 0 3.3-9.8 15.3 15.3 0 0 0 .6-5.4 17.5 17.5 0 0 0-.9-4.3 33.5 33.5 0 0 0-2.2-5.2 41.6 41.6 0 0 0-3.6-5.5 40.5 40.5 0 0 0-3.4-3.7c-1-.9-1.4-1.3-1-1.9a6.8 6.8 0 0 1 2.9-1.3 1.7 1.7 0 0 1 1.7.4Z"\n     fill="#2d2827" />\n</svg>\n')))}`,Ue=e,n.drawImage(Ue,this.x,this.y,this.width,this.height)})),t(this,"positive",(e=>{this.point(e),e.entity.units.delete(this);const t=e.game.mod.get("speed");t?e.game.mod.set("speed",t+4e3):e.game.mod.set("speed",Date.now()+4e3)})),t(this,"negative",(e=>{this.point(e),e.entity.units.delete(this)}))}}let Le;let Oe=class extends Te{constructor(e,n,s){super(et.EMPTY,e,(()=>{if(Le)return void n.drawImage(Le,this.x,this.y,this.width,this.height);const e=new Image(this.width,this.height),t=window.unescape||window.decodeURI;e.src=`data:image/svg+xml;base64,${window.btoa(t(encodeURIComponent('\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">\n  <path fill="#f7263f"\n    d="M489 191c0 174-240 264-240 264S10 365 10 191c0-75 58-135 129-135 47 0 88 26 110 64 23-38 64-64 111-64 71 0 129 60 129 135Z" />\n  <path fill="#cc1f3c"\n    d="M489 191c0 174-240 264-240 264s-96-36-166-106c237 70 323-70 323-174 0-81-58-106-85-113a125 125 0 0 1 39-6c71 0 129 60 129 135Z" />\n  <path fill="#ff7683"\n    d="M157 88c-41-4-127 1-115 117a4 4 0 0 0 8 1c10-31 38-89 108-110a4 4 0 0 0-1-8Z" />\n</svg>\n')))}`,Le=e,n.drawImage(Le,this.x,this.y,this.width,this.height)})),t(this,"positive",(e=>{this.point(e),e.entity.units.delete(this),e.game.heart=I(e.game.heart+1,0,3),e.game.score+=1})),t(this,"negative",(e=>{this.point(e),e.entity.units.delete(this)}))}};let We;class Ke extends Te{constructor(e,n,s){super(et.EMPTY,e,(()=>{if(We)return void n.drawImage(We,this.x,this.y,this.width,this.height);const e=new Image(this.width,this.height),t=window.unescape||window.decodeURI;e.src=`data:image/svg+xml;base64,${window.btoa(t(encodeURIComponent('\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">\n  <defs>\n    <style>.cls-2{fill:#313944}.cls-4{fill:#232323}</style>\n  </defs>\n      <path\n        d="M113 109a193 193 0 0 0-89 228c24 72 88 132 163 143 77 11 164-28 206-94 51-79 32-172-32-237-45-46-108-72-172-65a198 198 0 0 0-76 25Z"\n        class="cls-2" />\n      <path fill="#363f49"\n        d="M272 154c-46 0-106 7-150 29-79 39-92 108-70 172l28 70A196 196 0 0 1 240 85c26 7 34-1 18 29-9 15 6 29 14 40Z" />\n      <path\n        d="M112 108a198 198 0 0 0-46 36 196 196 0 0 0-33 49 193 193 0 0 0-17 117 206 206 0 0 0 19 58 220 220 0 0 0 34 49 213 213 0 0 0 46 38 192 192 0 0 0 55 23 188 188 0 0 0 58 5 221 221 0 0 0 59-13 231 231 0 0 0 53-28 206 206 0 0 0 44-41 187 187 0 0 0 31-55 176 176 0 0 0 9-61 185 185 0 0 0-12-60 215 215 0 0 0-31-55 232 232 0 0 0-47-47 217 217 0 0 0-57-30 200 200 0 0 0-165 15c-1 1 0 3 2 2a196 196 0 0 1 131-22 208 208 0 0 1 61 21 221 221 0 0 1 52 39 229 229 0 0 1 38 51 196 196 0 0 1 21 57 175 175 0 0 1 2 60 179 179 0 0 1-21 60 188 188 0 0 1-37 47 219 219 0 0 1-49 33 225 225 0 0 1-56 20 200 200 0 0 1-58 4 180 180 0 0 1-56-15 202 202 0 0 1-50-31 218 218 0 0 1-39-43 213 213 0 0 1-26-53 197 197 0 0 1-11-60 191 191 0 0 1 34-110 192 192 0 0 1 64-58c1-1 0-3-2-2Z"\n        class="cls-4" />\n      <path\n        d="M308 57c-4-1-8-2-12-1s-7 5-10 8a202 202 0 0 0-29 51c-1 4-3 8-2 13l4 8a264 264 0 0 0 125 100l46-52c46-52-87-117-122-127Z"\n        class="cls-2" />\n      <path\n        d="M308 56c-5-1-10-2-14 0-4 1-7 5-10 8a202 202 0 0 0-28 50c-2 4-3 9-2 14 0 4 3 8 6 11a263 263 0 0 0 33 40 267 267 0 0 0 40 32 266 266 0 0 0 45 24l6 2a1 1 0 0 0 1 0l34-38 8-9 6-7a39 39 0 0 0 5-9 33 33 0 0 0 2-19 52 52 0 0 0-8-18 106 106 0 0 0-15-19 198 198 0 0 0-21-17l-23-15-24-13-21-10-17-6-3-1h-2l2 2c12 3 23 9 35 14a352 352 0 0 1 45 26c14 10 28 21 38 34 8 10 14 23 11 36a34 34 0 0 1-4 9l-10 12-33 37-7 9h1a258 258 0 0 1-44-22 262 262 0 0 1-40-30 261 261 0 0 1-33-37l-7-10c-2-4-4-8-3-13 0-4 2-9 4-13l6-13a204 204 0 0 1 14-23l8-11c2-3 7-6 11-6a27 27 0 0 1 8 1h1l-1-2Z"\n        class="cls-4" />\n      <path\n        d="M301 77c4 10 8 19 14 28s14 15 22 22c16 13 32 25 50 34a157 157 0 0 0 32 11v-1l-1-2c-19-4-37-13-53-23l-24-17c-8-6-16-13-22-21-7-8-12-19-16-29a5 5 0 0 0-1-2h-1Z"\n        class="cls-4" />\n      <path fill="#546370" stroke="#232323" stroke-miterlimit="10" stroke-width=".7"\n        d="M182 112a22 22 0 0 1 13 2c15 7-7 3-44 13-18 5-31 11-37 15a3 3 0 0 1-3 0c-7-4 35-21 39-23 17-5 22-5 32-7Z" />\n      <path fill="#e9d656"\n        d="m342 136 16-36-34-12-10-3 40-10-15-16 24 1-5-41 29 30 8-23 14 23 55-22-32 39 31 20-36 5 19 55-48-36-7 23-13-20-41 35Z" />\n      <path\n        d="m360 23 28 29 8-23 12 21 52-20-30 36 29 19-34 5 18 52-46-34-6 22-13-19-38 32 3-7c7-15 15-32 16-37l-35-12-5-2 38-9-14-16 21 2-4-39m-4-8 1 8 4 36-18-1-7-1 5 5 11 13-33 8-9 2 8 3 5 2 33 11-15 34-3 7-5 11 9-8 36-30 11 16 3 5 2-5 5-19 43 32 7 6-3-9-17-48 31-5 7-1-6-4-27-17 28-34 7-8-10 4-49 19-12-19-3-5-2 5-6 19-25-26-6-6Z"\n        class="cls-4" />\n      <path fill="#f9b938"\n        d="m362 27 27 28 7-22 12 19 47-18-27 33 27 17-32 5 17 49-44-33-6 21-11-18-34 29s18-39 16-39l-36-12 35-9-14-15 20 2-4-37m-4-9 1 10 3 32-15-1h-8l5 5 10 11-30 7-10 3 10 4 17 6 16 5-15 36-6 13 11-10 31-26 10 15 4 6 2-7 4-17 40 30 8 7-3-10-15-45 27-4 9-2-7-4-25-16 25-30 8-9-12 4-44 17-10-17-4-6-2 7-6 17-23-24-6-7Z" />\n      <path fill="#fff"\n        d="m396 91-2 8-5-7-14 12 1-3 6-13-13-5h-1l13-4-5-5h8l-2-14 11 11 2-9 5 8 19-7-11 13 11 7-13 2 7 19Z"\n        opacity=".9" />\n</svg>\n')))}`,We=e,n.drawImage(We,this.x,this.y,this.width,this.height)})),t(this,"positive",(e=>{this.point(e),e.entity.units.delete(this),e.game.heart-=1,0===e.game.heart&&(e.entity.units=new Set)})),t(this,"negative",(e=>{this.point(e),e.entity.units.delete(this),0===e.game.heart&&(e.entity.units=new Set)}))}}class He extends Te{constructor(e,n,s){super(et.EMPTY,e,(()=>{})),t(this,"positive",(e=>{this.point(e),e.entity.units.delete(this)})),t(this,"negative",(e=>{this.point(e),e.entity.units.delete(this)}))}}let Ge;const Je=Ze("#9b4d0d","#fec700","#f69f16","#c6934f");class Qe extends Te{constructor(e,n,s){super(et.EMPTY,e,(()=>{if(Ge)return void n.drawImage(Ge,this.x,this.y,this.width,this.height);const e=new Image(this.width,this.height),t=window.unescape||window.decodeURI;e.src=`data:image/svg+xml;base64,${window.btoa(t(encodeURIComponent(Je)))}`,Ge=e,n.drawImage(Ge,this.x,this.y)})),t(this,"positive",(e=>{this.point(e),e.entity.units.delete(this),e.game.score+=1})),t(this,"negative",(e=>{this.point(e),e.entity.units.delete(this),e.game.heart-=1,0===e.game.heart&&(e.entity.units=new Set)}))}}var et=(e=>(e.EMPTY="empty",e.DANGER="danger",e.HEART="heart",e.SPEED="speed",e.BLUE="blue",e.RED="red",e.WHITE="white",e.YELLOW="yellow",e))(et||{});class tt{constructor(e,n,s=1,i=9){t(this,"rand"),t(this,"parts"),t(this,"min"),t(this,"max"),t(this,"getItem",(()=>{const e=this.random(this.min,this.max,this.rand());return[this.spawn(this.parts,this.rand()),e]})),t(this,"random",((e,t,n)=>{let s=e-.5+n*(t-e+1);return Math.round(s)})),t(this,"spawn",((e,t)=>{const n=t*e.reduce(((e,[t,n])=>e+n),0);let s=0;for(const[i,a]of e)if(s+=a,n<s)return i;return"empty"})),t(this,"new",((e,t)=>{const[n,s]=e.game.map.getItem();if("empty"!==n)if("danger"!==n)if("heart"!==n)if("speed"!==n)if("blue"!==n)if("red"!==n)if("white"!==n)if("yellow"!==n);else{const n=new Qe(s,t,e.game.measure);e.entity.units.add(n)}else{const n=new $e(s,t,e.game.measure);e.entity.units.add(n)}else{const n=new Pe(s,t,e.game.measure);e.entity.units.add(n)}else{const n=new qe(s,t,e.game.measure);e.entity.units.add(n)}else{const n=new Ve(s,t,e.game.measure);e.entity.units.add(n)}else{const n=new Oe(s,t,e.game.measure);e.entity.units.add(n)}else{const n=new Ke(s,t,e.game.measure);e.entity.units.add(n)}else{const n=new He(s,t,e.game.measure);e.entity.units.add(n)}})),this.rand=Fe(e),this.parts=n,this.min=s,this.max=i}}const nt=({type:e,children:t,...s})=>n(N,{type:"button",className:r("FLButton",`FLButton--${e}`),...s,children:n("div",{className:"FLButton__outer",children:n("div",{className:"FLButton__inner",children:t})})}),st="q",it="d",at="s",rt=({type:e="white",count:t=0})=>{const i={yellow:["#9b4d0d","#fec700","#f69f16","#c6934f"],white:["#ed407e","#ffeef4","#ffd2e2","#ff99c3"],red:["#871938","#e50047","#d00841","#c41d4c"],blue:["#074f74","#c2f2ff","#40c3f2","#00699b"]}[e];return s("div",{className:st,children:[n("div",{className:r(it,"flower_animation"),children:n(C,{color:i})}),n("div",{className:at,children:t})]})},ct="e",ot=({active:e})=>n("div",{className:ct,children:s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"100%",height:"100%",children:[n("path",{fill:"#fff",d:"M70.7,4.2a27.41,27.41,0,0,0-19.8,8.7,1.2,1.2,0,0,1-1.69.11l-.11-.11A27.41,27.41,0,0,0,29.3,4.2C13.6,4.2.8,18.2.8,35.2A32,32,0,0,0,11.5,60.3l35,34a5,5,0,0,0,7.07.13l.13-.13L89.5,58.5c4.9-5.5,9.7-11.8,9.7-23.3C99.2,18.2,86.4,4.2,70.7,4.2Z"}),e&&n("path",{d:"m18.5 52.9-.4-.4C13.6 49 11 42.5 11 35.2c0-11.5 8.2-20.8 18.3-20.8 6.7 0 12.9 4.2 16.1 10.9a5 5 0 0 0 7.7 1.9 5.5 5.5 0 0 0 1.6-2 18.1 18.1 0 0 1 16-10.8c10 0 18.3 9.3 18.3 20.8 0 7.2-2.4 11.2-7.1 16.5l-.2.2-5.2 5.1-12.2 12.3L52 81.5a3 3 0 0 1-4.1 0Z",fill:"red"})]})}),lt=window&&"ontouchstart"in window,ht=({nav:e})=>{const t=c(),i=t.game,a=t.map,d=t.items,[[u,p],m]=o.useState([3,0]),f=o.useRef(new he).current,g=o.useRef({game:{mod:new Map,map:new tt(a,d),measure:f,platform:f.getY(3),gravity:0,score:0,heart:3,story:[]},entity:{player:new pe,units:new Set,blocks:new Set}}).current,w=e=>{console.log("end")},v=e=>{console.log("end")};const y=lt?{onTouchStart:e=>{const t=e.touches[0];t&&(g.game.platform=2*t.clientX)},onTouchMove:e=>{const t=e.touches[0];t&&(g.game.platform=2*t.clientX)},onTouchEnd:w,onTouchCancel:w}:{onMouseDown:e=>{},onMouseMove:e=>{console.log("move")},onMouseUp:v,onMouseLeave:v};return o.useEffect((()=>{0===u&&l({view:"end",params:{gameID:i,story:g.game.story}})}),[u]),n(h,{fixed:!0,nav:e,safeBottom:!1,safeTop:!1,children:s("div",{className:"Florist",children:[n(z,{quality:2,limitFrames:120,onRender:({width:e,height:t,quality:n,context:s,next:i})=>{if(m([g.game.heart,g.game.score]),0===g.game.heart)return i();s.clearRect(0,0,e,t),f.update([9,16],e,t);const a=(r=g.game.score,I(820+r/2,0,920));var r;if(g.game.mod.has("speed")){(g.game.mod.get("speed")||0)>Date.now()?g.game.gravity=a+20:g.game.mod.delete("speed")}else g.game.gravity=a;g.entity.units.forEach((e=>{e.render(g,f),f.isCollision(g.entity.player,e)&&e.positive(g)})),g.entity.blocks.forEach((e=>{e.render(s,f),e.execute()})),g.entity.player.render(s,g.game.platform,f),i()},onInitial:({width:e,height:t,quality:n,context:s,next:i})=>{f.update([9,16],e,t),g.game.platform=f.getX(5),g.entity.blocks.add(new me(f.getX(1),f.getY(16),f.getMeter(9),f.getMeter(1),(e=>{g.entity.units.forEach((t=>{f.isCollision(e,t)&&f.mutex(e,t)&&t.negative(g)}))}))),g.entity.blocks.add(new me(f.getX(1),f.getY(5),f.getMeter(9),f.getMeter(4),(e=>{g.entity.units.forEach((t=>{f.isCollision(e,t)&&f.mutex(e,t)&&g.game.map.new(g,s)}))}))),g.game.map.new(g,s),i()},...y}),s("div",{className:"Florist__absolute",children:[n(A,{width:9,height:16,before:s("div",{className:r("Florist_counter",{"Florist_counter--hard":p>20&&p<50,"Florist_counter--extreme":p>50}),children:[n("div",{className:"Florist_hearts",children:Array.from(Array(3)).map(((e,t)=>n(ot,{active:t<u})))}),n("span",{children:"score"}),n("span",{children:p})]}),after:n("div",{className:"Florist__cloud",children:s("div",{className:"Florist__inner",children:[n("span",{}),n("span",{}),n("span",{}),n("span",{}),n("span",{}),n("span",{}),n("span",{}),n("span",{}),n("span",{}),n("span",{}),n("span",{})]})})}),n("div",{className:"Florist__footer"})]})]})})},dt=()=>n("div",{className:"Menu__header",children:n(oe,{})}),ut=()=>{const e=e=>l({panel:e,stay:e});return s("div",{className:"Florist__footer",children:[s("div",{className:"Florist__bar",children:[n(E,{className:"HomeIcon__rating",title:"Рейтинг",icon:n(F,{size:38}),onClick:()=>e("rating")}),n(E,{className:"HomeIcon__tasks",title:"Задания",icon:n(T,{size:38}),onClick:()=>e("tasks")})]}),n("div",{className:"Florist__lawn",children:s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 120.4",height:"100%",children:[n("path",{fill:"#7bc321",d:"M250 0C112 0 0 54 0 120.4h500C500 54 388 0 250 0Z"}),n("path",{fill:"#629e13",d:"M171.5 79.3c-4.3 5.7-3.4 16 0 21.8 1.3 2.3 4.1 3.3 6.6 3.5-.7-1.3 0-4.6.4-5.9 8.1 12 9.6 6.3 18.6 0 12.6-4.1 5.8 8 12-9.3 1.2-2.8 3.2-.4 4.3 1.2 2.4 3.5-.3-9-.4-10.9-1-6.2-6.9-19.9-7-5-1.3 5.2-3.3 12.1-6.6 16.3-2.8-.2-4.3-3-4.7-5.4-3.9-1.8-2.6 7.8-9.3 2-3-2.5.2 4-2.3 5a7.9 7.9 0 0 1-4.7-4c-3.3 2.7-5-3.5-5.8-5.8-.6-.9.3-5.6-1.1-3.5M285.9 36.6c-4.3 5.7-3.4 16 0 21.8 1.3 2.2 4 3.3 6.6 3.4-.7-1.3 0-4.5.4-5.8 8.1 11.9 9.5 6.2 18.6 0 12.6-4.2 5.8 8 12-9.3 1.1-2.9 3.1-.4 4.2 1.1 2.5 3.5-.3-9-.3-10.8-1-6.2-7-20-7-5a46.5 46.5 0 0 1-6.6 16.3c-2.8-.3-4.3-3-4.7-5.5-3.9-1.8-2.6 7.8-9.3 2-3.1-2.4.2 4-2.3 5a7.9 7.9 0 0 1-4.7-3.9c-3.3 2.6-5-3.5-5.8-5.8-.6-1 .2-5.7-1.2-3.5"}),n("path",{fill:"#3c9006",d:"M217.9 36.6c.7 3.4 2 10 4.8 13.2a2.8 2.8 0 0 0 4.2 0c2.8-3 3.4-8.8 7.5-2.6a2.7 2.7 0 0 0 1.2 1c6.3 2.6 12.7 2 15.4-4a2.8 2.8 0 0 1 3.4-1.6c8.5 2.4 5.9-1 11.4-5a2.9 2.9 0 0 1 2-.4c5.3.6.7-14.5 9.7-21a2.8 2.8 0 0 0-.3-4.7c-7.2-4.2-15.3-11-10.6 1a2.8 2.8 0 0 1 .2 1.4c-.5 4.9-2.7 10.6-7.3 12.5a2.9 2.9 0 0 1-2.7-.3c-5.7-4-6-7.5-8.7 1.6a2.8 2.8 0 0 1-1.6 1.8c-4 1.7-8 0-10.1-3.6a3 3 0 0 0-2.8-1.4 20.3 20.3 0 0 1-7.5-1l-.3-.1c-2.4-1.3-9.3-6.3-11.4-7.4M404.8 54.5c.4 1.5 1 4.4 2.2 5.9a1.3 1.3 0 0 0 1.9 0c1.2-1.4 1.5-4 3.3-1.2a1.3 1.3 0 0 0 .6.4c2.7 1.1 5.6 1 6.8-1.8a1.3 1.3 0 0 1 1.5-.7c3.8 1.1 2.6-.4 5-2.2a1.2 1.2 0 0 1 1-.2c2.3.3.3-6.4 4.3-9.4a1.3 1.3 0 0 0-.2-2c-3.2-1.9-6.7-4.9-4.7.4a1.2 1.2 0 0 1 .1.6c-.2 2.2-1.2 4.8-3.2 5.6a1.2 1.2 0 0 1-1.2-.1c-2.6-1.8-2.6-3.4-3.9.7a1.3 1.3 0 0 1-.7.8 3.5 3.5 0 0 1-4.5-1.6 1.3 1.3 0 0 0-1.2-.6 9 9 0 0 1-3.4-.5h-.1c-1.1-.6-4.2-2.8-5.1-3.4M93.5 102c.5 2 1.3 6.1 3 8.1a1.8 1.8 0 0 0 2.6.1c1.8-1.9 2.1-5.5 4.7-1.7a1.6 1.6 0 0 0 .8.7c3.9 1.5 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2-1c5.3 1.5 3.7-.6 7.2-3a1.8 1.8 0 0 1 1.2-.3c3.3.3.5-9 6-13.2a1.8 1.8 0 0 0-.2-2.9c-4.4-2.6-9.5-6.8-6.5.7a1.7 1.7 0 0 1 0 .8c-.2 3-1.6 6.7-4.5 7.8a1.7 1.7 0 0 1-1.6-.2c-3.6-2.5-3.7-4.6-5.5 1a1.8 1.8 0 0 1-1 1.2 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.7-1 12.5 12.5 0 0 1-4.7-.6 1 1 0 0 1-.2 0c-1.5-.8-5.8-4-7.1-4.7M136.8 37.5c.5 2 1.3 6.2 3 8.2a1.8 1.8 0 0 0 2.7 0c1.7-1.8 2-5.5 4.6-1.6a1.8 1.8 0 0 0 .8.7c4 1.5 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2.1-1c5.3 1.5 3.7-.7 7.1-3a1.8 1.8 0 0 1 1.2-.4c3.4.4.5-9 6-13a1.8 1.8 0 0 0-.1-3c-4.5-2.6-9.5-6.8-6.6.7a1.6 1.6 0 0 1 .1.8c-.3 3-1.7 6.6-4.5 7.8a1.8 1.8 0 0 1-1.7-.2c-3.6-2.5-3.7-4.7-5.4 1a1.8 1.8 0 0 1-1 1.1 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.8-1 13 13 0 0 1-4.6-.5h-.2c-1.5-.9-5.8-4-7.1-4.7M342.4 73.2c.5 2 1.3 6.2 3 8.2a1.8 1.8 0 0 0 2.7 0c1.7-1.8 2-5.5 4.6-1.6a1.7 1.7 0 0 0 .8.7c3.9 1.5 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2-1c5.4 1.5 3.8-.7 7.2-3a1.8 1.8 0 0 1 1.2-.3c3.4.3.5-9.1 6-13.2a1.8 1.8 0 0 0-.1-3c-4.5-2.5-9.5-6.7-6.6.8a1.8 1.8 0 0 1 .1.8c-.3 3-1.7 6.6-4.5 7.8a1.8 1.8 0 0 1-1.7-.2c-3.6-2.5-3.7-4.7-5.4 1a1.8 1.8 0 0 1-1 1.1 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.7-.9 12.7 12.7 0 0 1-4.7-.6h-.2c-1.5-.9-5.8-4-7.1-4.7"}),n("path",{fill:"#629e13",d:"M260.7 92c.5 2.1 1.3 6.2 3 8.2a1.8 1.8 0 0 0 2.7.1c1.7-1.9 2-5.5 4.6-1.6a1.6 1.6 0 0 0 .8.6c4 1.6 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2.1-1c5.3 1.6 3.7-.6 7.1-3a1.8 1.8 0 0 1 1.2-.3c3.4.4.5-9 6-13.1a1.8 1.8 0 0 0-.1-3c-4.5-2.5-9.5-6.7-6.6.7a2 2 0 0 1 .1.8c-.3 3.1-1.7 6.7-4.5 7.8a1.8 1.8 0 0 1-1.7-.1c-3.6-2.6-3.7-4.7-5.4 1a1.8 1.8 0 0 1-1 1 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.8-.9 13 13 0 0 1-4.6-.6l-.2-.1c-1.5-.8-5.8-3.9-7.1-4.6"}),n("path",{fill:"#649c19",d:"M30.5 103.3c5.4-4.3 10.9 2.7 13 7.5 7.9-2.3 12.9-11.4 20.3-13.6C82.3 109 82 79.2 84.2 67.5c-1.4-4.7-1.8-5.5-6.8-3.7a19.5 19.5 0 0 1-7.4 8c-.7 3.8-3.7 9-7.4 10.5-14.6-24.8-9.1-8.2-20.3 2.2-16.6 1.7-9-7-15-16.3M424.7 107.3c4.8-3.8 9.6 2.4 11.4 6.6 7-2 11.4-10 17.9-12 16.2 10.4 16-15.9 18-26.1-1.3-4.2-1.7-4.9-6-3.3a17.4 17.4 0 0 1-6.6 7c-.6 3.4-3.3 8-6.5 9.3-12.8-21.9-8-7.2-17.8 2-14.6 1.4-8-6.3-13.2-14.5"})]})})]})},pt={value:null,time:0},mt=()=>{const[e,t]=o.useState(pt.value),n=e=>o.startTransition((()=>{pt.time=Date.now(),pt.value=e,t(e)}));return o.useEffect((()=>{if(!e||pt.time+5e3<Date.now()){(async(e,t,n,s)=>{try{const{error:e,response:i}=await k("https://user.chamomile.elum.su/game/floral/get",{},t);return e?s(e):n(i)}catch{s({code:1,message:""})}})(0,new AbortController,n,(()=>{}))}})),e},ft=()=>{const e=mt(),{max:t,last:i}=e||{max:0,last:0};return s(Z,{children:[s("div",{className:"Menu__item",children:[n("span",{children:t}),n("span",{children:"лучший"})]}),s("div",{className:"Menu__item",children:[n("span",{children:i}),n("span",{children:"последний"})]})]})},gt=({nav:e})=>{R();const t=d(X),i=()=>l({panel:"shop"});return n(h,{fixed:!0,nav:e,header:n(dt,{}),footer:n(ut,{}),safeBottom:!1,safeTop:!1,children:n("div",{className:"Menu",children:s("div",{className:"Menu__content",children:[n("div",{className:"Menu__coins",children:s(Z,{style:{zIndex:2},children:[n($,{position:"left",type:"dribble",value:t.dribble,onClick:i}),n($,{position:"right",type:"coins",value:t.coins,onClick:i})]})}),n("div",{className:"Menu__counter",children:n(ft,{})}),s("div",{className:"Menu__action",children:[n("div",{className:"Menu__start",children:n(nt,{type:"x",onClick:()=>l({view:"start"}),children:"ИГРАТЬ"})}),n("div",{className:"Menu__exit",children:n(nt,{type:"l",onClick:()=>l({app:"platform"},["stay","freeze","params"]),children:"ВЫХОД"})})]})]})})})},wt={value:null,time:0},vt=({page:e})=>{const t=d(X),i=D("floral",wt);if(!i)return n(Y,{});const{user:a,list:r}=i;return s(P,{children:[t&&n(B,{fixed:!0,type:"flower",user:a.id,position:a.position||">1000",image:t.image,first_name:t.first_name,last_name:t.last_name,count:a.count}),r.map((({id:t,first_name:s,last_name:i,image:a,count:r},c)=>c>20*e?null:n(B,{type:"flower",user:t,position:c+1,image:a,first_name:s,last_name:i,count:r},`${t}_${r}_${c}`)))]})},yt=()=>(d(j),n(o.Fragment,{children:n(q,{padding:!0,string:"Рейтинг",children:n(U,{onClick:()=>u()})})})),xt=({nav:e})=>{const[t,s]=o.useState(!0),[i,a]=o.useState(1);return n(h,{nav:e,header:n(yt,{}),safeTop:!1,safeBottom:!1,lazy:i<50,onLazy:()=>{i>=50||a((e=>e+1))},isTop:t,onTop:e=>{a(1),s(e)},children:n(vt,{page:i})})},bt=()=>n(q,{padding:!0,string:"Задания",children:n(U,{onClick:()=>u()})}),Mt=({updateAction:e,tasks:t})=>{const s=t.interaction;if(!s)return null;const i=Object.keys(s.values);if(!i.length)return null;const a=!i.every((e=>{const t=s.values[e][0];return!!t&&t.current===t.required})),r=(t,n)=>{l({popout:"loading",freeze:!0}),W({taskID:n},void 0,(t=>{const n=m(X);f(X,{...n,coins:t.coins,dribble:t.dribble}),e(),u({toStay:"tasks",ignoreFreeze:!0}),g("currency",3e3,{type:t.reward,count:`+${t.change}`},(e=>{console.log(e)}))}),(e=>{u({toStay:"home",ignoreFreeze:!0})}))},c=t=>{switch(t){case"favorite":n=e,l({popout:"loading",freeze:!0}),p.send("VKWebAppAddToFavorites").then((()=>V(2e3,n))).finally((()=>{u({toStay:"tasks",ignoreFreeze:!0})}));break;case"sub_group":(e=>{l({popout:"loading",freeze:!0}),p.send("VKWebAppJoinGroup",{group_id:218849456}).then((()=>V(2e3,e))).finally((()=>{u({toStay:"tasks",ignoreFreeze:!0})}))})(e);break;case"sub_message":(e=>{l({popout:"loading",freeze:!0}),p.send("VKWebAppAllowMessagesFromGroup",{group_id:218849456,key:"sub_message"}).then((()=>V(2e3,e))).finally((()=>{u({toStay:"tasks",ignoreFreeze:!0})}))})(e);break;case"sub_notification":(e=>{l({popout:"loading",freeze:!0}),p.send("VKWebAppAllowNotifications").then((()=>V(2e3,e))).finally((()=>{u({toStay:"tasks",ignoreFreeze:!0})}))})(e)}var n},o=s.parent;return o?n(L,{taskID:o.task_id,type:o.type,disabled:a,title:o.title,description:o.description,count:o.count,done:["OPEN"].includes(o.status),lock:o.lock,reward:o.reward,onExecute:r,onTake:r,children:i.map(((e,t)=>{const i=s.values[e].find((e=>["OPEN","READ"].includes(e.status)));return i?n(O,{title:i.description,done:"READ"===i.status||"CLOSE"===i.status||i.current===i.required,onAction:()=>c(i.type)},`task_interaction_${t}`):null}))}):null},_t=({updateAction:e,tasks:t,type:s})=>{const i=t[s];if(!i)return null;const a=Object.keys(i.values);if(!a.length)return null;const r=(t,n)=>{l({popout:"loading",freeze:!0}),Q({taskID:n},void 0,(t=>{const n=m(X);f(X,{...n,coins:t.coins,dribble:t.dribble}),e(),u({toStay:"tasks",ignoreFreeze:!0}),g("currency",3e3,{type:t.reward,count:`+${t.change}`},(e=>{console.log(e)}))}),(e=>{u({toStay:"home",ignoreFreeze:!0})}))},c=(t,n)=>{switch(t){case"divination":case"predictions":u({toStay:"main",ignoreFreeze:!0});break;case"view_ads":(async e=>{l({popout:"loading",freeze:!0}),p.send("VKWebAppShowNativeAds",{ad_format:w.INTERSTITIAL}).then((()=>{K(void 0,void 0,(t=>{e(),u({toStay:"tasks",ignoreFreeze:!0})}),(()=>{u({toStay:"tasks",ignoreFreeze:!0})}))})).catch((()=>{u({toStay:"tasks",ignoreFreeze:!0})}))})(e);break;case"stories":(async e=>{l({popout:"loading",freeze:!0});const t=await H(G());p.send("VKWebAppShowStoryBox",{background_type:"image",blob:t,locked:!0}).then((()=>J(void 0,void 0,(()=>e()),(()=>{})))).finally((()=>u({toStay:"tasks",ignoreFreeze:!0})))})(e);break;case"floral_all":l({app:"florist",view:"main"})}};return n(o.Fragment,{children:a.map(((e,t)=>{const s=i.values[e];if(!s.length)return null;const a=s.findIndex((e=>["OPEN","READ"].includes(e.status)));if(!s&&-1===a)return null;const o=s.length,l=a+1,h=s[a];return h?n(L,{taskID:h.id,type:h.type,title:h.title,description:h.description,count:h.count,done:!["OPEN"].includes(h.status),min:0,max:h.required,value:h.current,lock:h.lock,reward:h.reward,onExecute:r,onTake:c,subMax:o,subValue:l},`task_daily_${t}_${JSON.stringify(h)}`):null}))})},kt=()=>{const[e,t]=ee();if(!e)return s(te,{children:[s(ne,{children:[n(se,{}),n(se,{}),n(se,{}),n(se,{})]}),n(ne,{})]});const i=Object.keys(e).filter((e=>["floral"].includes(e)));return i.length?s(te,{children:[n(Mt,{tasks:e,updateAction:t}),i.map((s=>n(_t,{type:s,tasks:e,updateAction:t},s)))]}):null},St=({nav:e})=>s(h,{nav:e,header:n(bt,{}),safeBottom:!1,safeTop:!1,children:[n(kt,{}),n(ie,{})]}),It=({nav:e})=>{const t=v("panel");return s(y,{nav:e,activePanel:t,children:[n(gt,{nav:"default"}),n(xt,{nav:"rating"}),n(St,{nav:"tasks"})]})},Nt=()=>n("div",{className:"Menu__header",children:n(oe,{})}),Ct=()=>s("div",{className:"Florist__footer",children:[n("div",{style:{height:"50px"}}),n("div",{className:"Florist__lawn",children:s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 120.4",height:"100%",children:[n("path",{fill:"#7bc321",d:"M250 0C112 0 0 54 0 120.4h500C500 54 388 0 250 0Z"}),n("path",{fill:"#629e13",d:"M171.5 79.3c-4.3 5.7-3.4 16 0 21.8 1.3 2.3 4.1 3.3 6.6 3.5-.7-1.3 0-4.6.4-5.9 8.1 12 9.6 6.3 18.6 0 12.6-4.1 5.8 8 12-9.3 1.2-2.8 3.2-.4 4.3 1.2 2.4 3.5-.3-9-.4-10.9-1-6.2-6.9-19.9-7-5-1.3 5.2-3.3 12.1-6.6 16.3-2.8-.2-4.3-3-4.7-5.4-3.9-1.8-2.6 7.8-9.3 2-3-2.5.2 4-2.3 5a7.9 7.9 0 0 1-4.7-4c-3.3 2.7-5-3.5-5.8-5.8-.6-.9.3-5.6-1.1-3.5M285.9 36.6c-4.3 5.7-3.4 16 0 21.8 1.3 2.2 4 3.3 6.6 3.4-.7-1.3 0-4.5.4-5.8 8.1 11.9 9.5 6.2 18.6 0 12.6-4.2 5.8 8 12-9.3 1.1-2.9 3.1-.4 4.2 1.1 2.5 3.5-.3-9-.3-10.8-1-6.2-7-20-7-5a46.5 46.5 0 0 1-6.6 16.3c-2.8-.3-4.3-3-4.7-5.5-3.9-1.8-2.6 7.8-9.3 2-3.1-2.4.2 4-2.3 5a7.9 7.9 0 0 1-4.7-3.9c-3.3 2.6-5-3.5-5.8-5.8-.6-1 .2-5.7-1.2-3.5"}),n("path",{fill:"#3c9006",d:"M217.9 36.6c.7 3.4 2 10 4.8 13.2a2.8 2.8 0 0 0 4.2 0c2.8-3 3.4-8.8 7.5-2.6a2.7 2.7 0 0 0 1.2 1c6.3 2.6 12.7 2 15.4-4a2.8 2.8 0 0 1 3.4-1.6c8.5 2.4 5.9-1 11.4-5a2.9 2.9 0 0 1 2-.4c5.3.6.7-14.5 9.7-21a2.8 2.8 0 0 0-.3-4.7c-7.2-4.2-15.3-11-10.6 1a2.8 2.8 0 0 1 .2 1.4c-.5 4.9-2.7 10.6-7.3 12.5a2.9 2.9 0 0 1-2.7-.3c-5.7-4-6-7.5-8.7 1.6a2.8 2.8 0 0 1-1.6 1.8c-4 1.7-8 0-10.1-3.6a3 3 0 0 0-2.8-1.4 20.3 20.3 0 0 1-7.5-1l-.3-.1c-2.4-1.3-9.3-6.3-11.4-7.4M404.8 54.5c.4 1.5 1 4.4 2.2 5.9a1.3 1.3 0 0 0 1.9 0c1.2-1.4 1.5-4 3.3-1.2a1.3 1.3 0 0 0 .6.4c2.7 1.1 5.6 1 6.8-1.8a1.3 1.3 0 0 1 1.5-.7c3.8 1.1 2.6-.4 5-2.2a1.2 1.2 0 0 1 1-.2c2.3.3.3-6.4 4.3-9.4a1.3 1.3 0 0 0-.2-2c-3.2-1.9-6.7-4.9-4.7.4a1.2 1.2 0 0 1 .1.6c-.2 2.2-1.2 4.8-3.2 5.6a1.2 1.2 0 0 1-1.2-.1c-2.6-1.8-2.6-3.4-3.9.7a1.3 1.3 0 0 1-.7.8 3.5 3.5 0 0 1-4.5-1.6 1.3 1.3 0 0 0-1.2-.6 9 9 0 0 1-3.4-.5h-.1c-1.1-.6-4.2-2.8-5.1-3.4M93.5 102c.5 2 1.3 6.1 3 8.1a1.8 1.8 0 0 0 2.6.1c1.8-1.9 2.1-5.5 4.7-1.7a1.6 1.6 0 0 0 .8.7c3.9 1.5 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2-1c5.3 1.5 3.7-.6 7.2-3a1.8 1.8 0 0 1 1.2-.3c3.3.3.5-9 6-13.2a1.8 1.8 0 0 0-.2-2.9c-4.4-2.6-9.5-6.8-6.5.7a1.7 1.7 0 0 1 0 .8c-.2 3-1.6 6.7-4.5 7.8a1.7 1.7 0 0 1-1.6-.2c-3.6-2.5-3.7-4.6-5.5 1a1.8 1.8 0 0 1-1 1.2 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.7-1 12.5 12.5 0 0 1-4.7-.6 1 1 0 0 1-.2 0c-1.5-.8-5.8-4-7.1-4.7M136.8 37.5c.5 2 1.3 6.2 3 8.2a1.8 1.8 0 0 0 2.7 0c1.7-1.8 2-5.5 4.6-1.6a1.8 1.8 0 0 0 .8.7c4 1.5 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2.1-1c5.3 1.5 3.7-.7 7.1-3a1.8 1.8 0 0 1 1.2-.4c3.4.4.5-9 6-13a1.8 1.8 0 0 0-.1-3c-4.5-2.6-9.5-6.8-6.6.7a1.6 1.6 0 0 1 .1.8c-.3 3-1.7 6.6-4.5 7.8a1.8 1.8 0 0 1-1.7-.2c-3.6-2.5-3.7-4.7-5.4 1a1.8 1.8 0 0 1-1 1.1 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.8-1 13 13 0 0 1-4.6-.5h-.2c-1.5-.9-5.8-4-7.1-4.7M342.4 73.2c.5 2 1.3 6.2 3 8.2a1.8 1.8 0 0 0 2.7 0c1.7-1.8 2-5.5 4.6-1.6a1.7 1.7 0 0 0 .8.7c3.9 1.5 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2-1c5.4 1.5 3.8-.7 7.2-3a1.8 1.8 0 0 1 1.2-.3c3.4.3.5-9.1 6-13.2a1.8 1.8 0 0 0-.1-3c-4.5-2.5-9.5-6.7-6.6.8a1.8 1.8 0 0 1 .1.8c-.3 3-1.7 6.6-4.5 7.8a1.8 1.8 0 0 1-1.7-.2c-3.6-2.5-3.7-4.7-5.4 1a1.8 1.8 0 0 1-1 1.1 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.7-.9 12.7 12.7 0 0 1-4.7-.6h-.2c-1.5-.9-5.8-4-7.1-4.7"}),n("path",{fill:"#629e13",d:"M260.7 92c.5 2.1 1.3 6.2 3 8.2a1.8 1.8 0 0 0 2.7.1c1.7-1.9 2-5.5 4.6-1.6a1.6 1.6 0 0 0 .8.6c4 1.6 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2.1-1c5.3 1.6 3.7-.6 7.1-3a1.8 1.8 0 0 1 1.2-.3c3.4.4.5-9 6-13.1a1.8 1.8 0 0 0-.1-3c-4.5-2.5-9.5-6.7-6.6.7a2 2 0 0 1 .1.8c-.3 3.1-1.7 6.7-4.5 7.8a1.8 1.8 0 0 1-1.7-.1c-3.6-2.6-3.7-4.7-5.4 1a1.8 1.8 0 0 1-1 1 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.8-.9 13 13 0 0 1-4.6-.6l-.2-.1c-1.5-.8-5.8-3.9-7.1-4.6"}),n("path",{fill:"#649c19",d:"M30.5 103.3c5.4-4.3 10.9 2.7 13 7.5 7.9-2.3 12.9-11.4 20.3-13.6C82.3 109 82 79.2 84.2 67.5c-1.4-4.7-1.8-5.5-6.8-3.7a19.5 19.5 0 0 1-7.4 8c-.7 3.8-3.7 9-7.4 10.5-14.6-24.8-9.1-8.2-20.3 2.2-16.6 1.7-9-7-15-16.3M424.7 107.3c4.8-3.8 9.6 2.4 11.4 6.6 7-2 11.4-10 17.9-12 16.2 10.4 16-15.9 18-26.1-1.3-4.2-1.7-4.9-6-3.3a17.4 17.4 0 0 1-6.6 7c-.6 3.4-3.3 8-6.5 9.3-12.8-21.9-8-7.2-17.8 2-14.6 1.4-8-6.3-13.2-14.5"})]})})]}),zt="v",At="t",Et="p l u",Ft="g",Tt="o",Zt="b",Rt="x",Xt=()=>{const[e,t]=o.useState(!0),i=c(),a=i.score,r=i.gameID,[h,d]=i.drop,u=Object.entries(i.counter||{});return o.useEffect((()=>{e&&p.send("VKWebAppCheckNativeAds",{ad_format:w.INTERSTITIAL}).then((e=>t(!e.result))).catch((e=>{console.log(e)}))})),s("div",{className:zt,children:[n("div",{className:At,children:n(Z,{children:u&&u.map((([e,t])=>n(rt,{type:e,count:t})))})}),s("div",{className:Et,children:[n("span",{children:"score"}),n("span",{children:a})]}),n("div",{className:Ft,children:n(Z,{children:n($,{position:"right",type:"coins",value:d||0})})}),!e&&n("div",{className:Zt,children:n("div",{className:Rt,children:s(Z,{children:[n($,{position:"left",type:"coins",value:2*(d||0)}),n(ae,{size:"l",onClick:()=>{l({popout:"loading",freeze:!0}),p.send("VKWebAppShowNativeAds",{ad_format:w.INTERSTITIAL}).then((()=>{(async(e,t,n,s)=>{try{const{error:i,response:a}=await k("https://user.chamomile.elum.su/game/floral/double",e,t);return i?s(i):n(a)}catch{s({code:1,message:""})}})({id:r},void 0,(()=>{l({view:"main",clear:!0,ignoreFreeze:!0})}),(()=>{l({view:"main",clear:!0,ignoreFreeze:!0})}))})).catch((()=>{l({view:"main",clear:!0,ignoreFreeze:!0})}))},children:"получить x2"})]})})}),n("div",{className:Tt,children:s(Z,{styleElement:{padding:"0 4px",boxSizing:"border-box"},children:[n(nt,{type:"l",onClick:()=>l({view:"start"}),children:"ИГРАТЬ"}),n(nt,{type:"l",onClick:()=>l({view:"main"}),children:"НАЗАД"})]})})]})},$t=({nav:e})=>{const t=c();return console.log(t),n(h,{fixed:!0,nav:e,header:n(Nt,{}),footer:n(Ct,{}),children:n(Xt,{})})},Dt=()=>{const e=()=>{},t=e=>{l({view:"playing",params:e})};return o.useEffect((()=>{const n=new AbortController;return(async(e,t,n,s)=>{try{const{error:e,response:i}=await k("https://user.chamomile.elum.su/game/floral/new",{},t);return e?s(e):n(i)}catch{s({code:1,message:""})}})(0,n,t,e),()=>n.abort()}),[]),n(y,{className:"Start__view",activePanel:"default",children:n(h,{nav:"default",children:n(x,{mode:"lower",icon:n(b,{size:"large"}),children:n(M,{})})})})},Yt=()=>{const e=c(),t=e.gameID,s=e.story,i=()=>l({view:"error",params:{toView:"end",id:t,story:s}}),a=e=>l({view:"defeat",params:{gameID:t,...e}});return o.useEffect((()=>{const e=new AbortController;return(async(e,t,n,s)=>{try{const{error:i,response:a}=await k("https://user.chamomile.elum.su/game/floral/close",e,t);return i?s(i):n(a)}catch{s({code:1,message:""})}})({id:t,data:s},e,a,i),()=>e.abort()}),[]),n(y,{className:"Start__view",activePanel:"default",children:n(h,{nav:"default",children:n(x,{mode:"lower",icon:n(b,{size:"large"}),children:n(M,{})})})})},Pt=()=>{const e=c(),t=e.toView;return n(y,{className:"Start__view",activePanel:"default",children:n(h,{nav:"default",children:n(x,{mode:"lower",icon:n(le,{width:100,height:100}),header:n(_,{size:"medium",weight:"bold",children:"Ошибка сервера"}),action:s(Z,{children:[n(ae,{size:"l",mode:"outline",streched:!0,onClick:()=>p.send("VKWebAppClose",{status:"success"}),children:"Закрыть"}),n(ae,{size:"l",streched:!0,onClick:()=>l({view:t,params:e}),children:"Повторить"})]}),children:n(_,{className:"substring",size:"normal",children:"Неуспешная попытка связаться с сервером. Попробуйте еще раз немного позже."})})})})},Bt=()=>{const e=v("view");return s(re,{activeView:e,notify:n(ce,{}),children:[n(It,{nav:"main"}),n(Dt,{nav:"start"}),n($t,{nav:"defeat"}),n(ht,{nav:"playing"}),n(Yt,{nav:"end"}),n(Pt,{nav:"error"})]})};export{Bt as default};
