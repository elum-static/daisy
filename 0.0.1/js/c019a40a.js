var t=Object.defineProperty,e=(e,i,n)=>(((e,i,n)=>{i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n})(e,"symbol"!=typeof i?i+"":i,n),n);import{a as i,j as n,p as s,q as a,c as r,O as c,r as o,w as h,P as l,n as d,g as u,A as m,V as f,b as p,l as g,i as w,S as v,E as x,T as y}from"./d67b1abd.js";import{r as M,m as b,c as _,E as I,F as C,C as N,A as S,a as Z,S as A,b as E,L as z,U as T,u as X,R as k,d as R,e as F,f as Y,P as $,B,g as D,h as U,i as P}from"./134ca7f4.js";const j=({children:t})=>i("div",{className:"ShortClouds",children:n("div",{className:"ShortClouds__inner",children:[i("span",{}),i("span",{}),i("span",{}),i("span",{}),i("span",{}),i("span",{}),i("span",{}),i("span",{})]})});var q=b("Icon32ErrorCircle","error_circle_32","0 0 32 32",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32" id="error_circle_32"><path fill-rule="evenodd" d="M16 30c7.732 0 14-6.268 14-14S23.732 2 16 2 2 8.268 2 16s6.268 14 14 14Zm1.333-14v-5.333a1.333 1.333 0 0 0-2.666 0V16a1.333 1.333 0 0 0 2.666 0Zm.334 5.666V21c0-.736-.598-1.333-1.334-1.333h-.666c-.737 0-1.334.597-1.334 1.333v.666c0 .737.597 1.334 1.334 1.334h.666c.737 0 1.334-.597 1.334-1.334Z" clip-rule="evenodd" /></symbol>',32,32,!1,void 0);class L{constructor(){e(this,"ratio",[0,0]),e(this,"width",0),e(this,"height",0),e(this,"unitSize",0),e(this,"partsX",[]),e(this,"partsY",[]),e(this,"update",((t,e,i)=>{if(this.height===i&&this.width===e)return;this.height=i,this.width=e,this.ratio=t;const[n,s]=this.ratio,a=this.height/s;if(a*n>this.width){const t=this.width/n,e=s*t,i=e/s,a=(this.height-e)/2;this.partsX=[],this.partsY=[];for(let s=0;s<n;s++)this.partsX[s]=s*t+t/2;for(let n=0;n<s;n++)this.partsY[n]=n*i+a+t/2;return void(this.unitSize=t)}const r=n*a,c=r/n,o=(this.width-r)/2;for(let h=0;h<n;h++)this.partsX[h]=h*c+o+c/2;for(let h=0;h<s;h++)this.partsY[h]=h*a+c/2;this.unitSize=c})),e(this,"getMeter",(t=>this.meter*t)),e(this,"getY",(t=>this.partsY[t-1]??0)),e(this,"getX",(t=>this.partsX[t-1]??0)),e(this,"getCordinate",((t,e)=>[this.getX(t),this.getY(e)])),e(this,"isCollision",((t,e)=>!(t.x+t.width<e.x||t.x>e.x+e.width||t.y+t.height<e.y||t.y>e.y+e.height))),e(this,"random",((t,e)=>{let i=t-.5+Math.random()*(e-t+1);return Math.round(i)})),e(this,"mutexSet",new Set),e(this,"mutex",((t,e)=>{const i=t.unique,n=e.unique;return!this.mutexSet.has(i+n)&&!this.mutexSet.has(n+i)&&(this.mutexSet.add(i+n),!0)}))}get clampX(){return[this.partsX[0],this.partsX[this.partsX.length-1]+this.meter]}get clampY(){return[this.partsY[0],this.partsY[this.partsY.length-1]+this.meter]}get meter(){return this.unitSize||0}}class V{constructor(t,i,n,s){e(this,"unique"),e(this,"x"),e(this,"y"),e(this,"width"),e(this,"height"),this.x=t,this.y=i,this.width=n,this.height=s,this.unique=function(t){const e="abdehkmnpswxzABDEFGHKMNPQRSTWXZ123456789";for(var i="",n=0;n<t;n++){var s=Math.floor(40*Math.random());i+=e.substring(s,s+1)}return i}(32)}}let W;class H extends V{constructor(){super(0,0,0,0),e(this,"render",((t,e,i)=>{this.width=i.getMeter(1.8),this.height=i.getMeter(.9);const n=this.width/2,[s,a]=i.clampX,r=i.getMeter(1)/2;if(this.x=_(e-n,s-r,a-this.width-r),this.y=i.getY(15)-r,W)return void t.drawImage(W,this.x,this.y,this.width,this.height);const c=new Image(this.width,this.height),o=window.unescape||window.decodeURI;c.src=`data:image/svg+xml;base64,${window.btoa(o(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100"><rect fill="#fff" x="1" y="1" width="198" height="17" rx="8.5" /></svg>')))}`,W=c,t.drawImage(W,this.x,this.y,this.width,this.height)}))}}class O extends V{constructor(t,i,n,s,a){super(t,i,n,s),e(this,"execute"),e(this,"render",((t,e)=>{})),this.execute=()=>a(this)}}var K={};!function(t,e,i){function n(t){var e=this,i=function(){var t=4022871197,e=function(e){e=String(e);for(var i=0;i<e.length;i++){var n=.02519603282416938*(t+=e.charCodeAt(i));n-=t=n>>>0,t=(n*=t)>>>0,t+=4294967296*(n-=t)}return 2.3283064365386963e-10*(t>>>0)};return e}();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=i(" "),e.s1=i(" "),e.s2=i(" "),e.s0-=i(t),e.s0<0&&(e.s0+=1),e.s1-=i(t),e.s1<0&&(e.s1+=1),e.s2-=i(t),e.s2<0&&(e.s2+=1),i=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function a(t,e){var i=new n(t),a=e&&e.state,r=i.next;return r.int32=function(){return 4294967296*i.next()|0},r.double=function(){return r()+11102230246251565e-32*(2097152*r()|0)},r.quick=r,a&&("object"==typeof a&&s(a,i),r.state=function(){return s(i,{})}),r}e&&e.exports?e.exports=a:this.alea=a}(0,{get exports(){return K},set exports(t){K=t}});var G={};!function(t,e,i){function n(t){var e=this,i="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:i+=t;for(var n=0;n<i.length+64;n++)e.x^=0|i.charCodeAt(n),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function a(t,e){var i=new n(t),a=e&&e.state,r=function(){return(i.next()>>>0)/4294967296};return r.double=function(){do{var t=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},r.int32=i.next,r.quick=r,a&&("object"==typeof a&&s(a,i),r.state=function(){return s(i,{})}),r}e&&e.exports?e.exports=a:this.xor128=a}(0,{get exports(){return G},set exports(t){G=t}});var Q={};!function(t,e,i){function n(t){var e=this,i="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:i+=t;for(var n=0;n<i.length+64;n++)e.x^=0|i.charCodeAt(n),n==i.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function a(t,e){var i=new n(t),a=e&&e.state,r=function(){return(i.next()>>>0)/4294967296};return r.double=function(){do{var t=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},r.int32=i.next,r.quick=r,a&&("object"==typeof a&&s(a,i),r.state=function(){return s(i,{})}),r}e&&e.exports?e.exports=a:this.xorwow=a}(0,{get exports(){return Q},set exports(t){Q=t}});var J={};!function(t,e,i){function n(t){var e=this;e.next=function(){var t,i,n=e.x,s=e.i;return t=n[s],i=(t^=t>>>7)^t<<24,i^=(t=n[s+1&7])^t>>>10,i^=(t=n[s+3&7])^t>>>3,i^=(t=n[s+4&7])^t<<7,t=n[s+7&7],i^=(t^=t<<13)^t<<9,n[s]=i,e.i=s+1&7,i},function(t,e){var i,n=[];if(e===(0|e))n[0]=e;else for(e=""+e,i=0;i<e.length;++i)n[7&i]=n[7&i]<<15^e.charCodeAt(i)+n[i+1&7]<<13;for(;n.length<8;)n.push(0);for(i=0;i<8&&0===n[i];++i);for(8==i?n[7]=-1:n[i],t.x=n,t.i=0,i=256;i>0;--i)t.next()}(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function a(t,e){null==t&&(t=+new Date);var i=new n(t),a=e&&e.state,r=function(){return(i.next()>>>0)/4294967296};return r.double=function(){do{var t=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},r.int32=i.next,r.quick=r,a&&(a.x&&s(a,i),r.state=function(){return s(i,{})}),r}e&&e.exports?e.exports=a:this.xorshift7=a}(0,{get exports(){return J},set exports(t){J=t}});var tt={};!function(t,e,i){function n(t){var e=this;e.next=function(){var t,i,n=e.w,s=e.X,a=e.i;return e.w=n=n+1640531527|0,i=s[a+34&127],t=s[a=a+1&127],i^=i<<13,t^=t<<17,i^=i>>>15,t^=t>>>12,i=s[a]=i^t,e.i=a,i+(n^n>>>16)|0},function(t,e){var i,n,s,a,r,c=[],o=128;for(e===(0|e)?(n=e,e=null):(e+="\0",n=0,o=Math.max(o,e.length)),s=0,a=-32;a<o;++a)e&&(n^=e.charCodeAt((a+32)%e.length)),0===a&&(r=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,a>=0&&(r=r+1640531527|0,s=0==(i=c[127&a]^=n+r)?s+1:0);for(s>=128&&(c[127&(e&&e.length||0)]=-1),s=127,a=512;a>0;--a)n=c[s+34&127],i=c[s=s+1&127],n^=n<<13,i^=i<<17,n^=n>>>15,i^=i>>>12,c[s]=n^i;t.w=r,t.X=c,t.i=s}(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function a(t,e){null==t&&(t=+new Date);var i=new n(t),a=e&&e.state,r=function(){return(i.next()>>>0)/4294967296};return r.double=function(){do{var t=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},r.int32=i.next,r.quick=r,a&&(a.X&&s(a,i),r.state=function(){return s(i,{})}),r}e&&e.exports?e.exports=a:this.xor4096=a}(0,{get exports(){return tt},set exports(t){tt=t}});var et={};!function(t,e,i){function n(t){var e=this,i="";e.next=function(){var t=e.b,i=e.c,n=e.d,s=e.a;return t=t<<25^t>>>7^i,i=i-n|0,n=n<<24^n>>>8^s,s=s-t|0,e.b=t=t<<20^t>>>12^i,e.c=i=i-n|0,e.d=n<<16^i>>>16^s,e.a=s-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):i+=t;for(var n=0;n<i.length+20;n++)e.b^=0|i.charCodeAt(n),e.next()}function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function a(t,e){var i=new n(t),a=e&&e.state,r=function(){return(i.next()>>>0)/4294967296};return r.double=function(){do{var t=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},r.int32=i.next,r.quick=r,a&&("object"==typeof a&&s(a,i),r.state=function(){return s(i,{})}),r}e&&e.exports?e.exports=a:this.tychei=a}(0,{get exports(){return et},set exports(t){et=t}});var it={},nt={get exports(){return it},set exports(t){it=t}};const st=a(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var at;at=nt,function(t,e,i){var n,s=256,a="random",r=i.pow(s,6),c=i.pow(2,52),o=2*c,h=s-1;function l(h,l,g){var w=[],v=f(m((l=1==l?{entropy:!0}:l||{}).entropy?[h,p(e)]:null==h?function(){try{var i;return n&&(i=n.randomBytes)?i=i(s):(i=new Uint8Array(s),(t.crypto||t.msCrypto).getRandomValues(i)),p(i)}catch(c){var a=t.navigator,r=a&&a.plugins;return[+new Date,t,r,t.screen,p(e)]}}():h,3),w),x=new d(w),y=function(){for(var t=x.g(6),e=r,i=0;t<c;)t=(t+i)*s,e*=s,i=x.g(1);for(;t>=o;)t/=2,e/=2,i>>>=1;return(t+i)/e};return y.int32=function(){return 0|x.g(4)},y.quick=function(){return x.g(4)/4294967296},y.double=y,f(p(x.S),e),(l.pass||g||function(t,e,n,s){return s&&(s.S&&u(s,x),t.state=function(){return u(x,{})}),n?(i[a]=t,e):t})(y,v,"global"in l?l.global:this==i,l.state)}function d(t){var e,i=t.length,n=this,a=0,r=n.i=n.j=0,c=n.S=[];for(i||(t=[i++]);a<s;)c[a]=a++;for(a=0;a<s;a++)c[a]=c[r=h&r+t[a%i]+(e=c[a])],c[r]=e;(n.g=function(t){for(var e,i=0,a=n.i,r=n.j,c=n.S;t--;)e=c[a=h&a+1],i=i*s+c[h&(c[a]=c[r=h&r+e])+(c[r]=e)];return n.i=a,n.j=r,i})(s)}function u(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function m(t,e){var i,n=[],s=typeof t;if(e&&"object"==s)for(i in t)try{n.push(m(t[i],e-1))}catch(a){}return n.length?n:"string"==s?t:t+"\0"}function f(t,e){for(var i,n=t+"",s=0;s<n.length;)e[h&s]=h&(i^=19*e[h&s])+n.charCodeAt(s++);return p(e)}function p(t){return String.fromCharCode.apply(0,t)}if(f(i.random(),e),at.exports){at.exports=l;try{n=st}catch(g){}}else i["seed"+a]=l}("undefined"!=typeof self?self:s,[],Math);var rt=K,ct=G,ot=Q,ht=J,lt=tt,dt=et,ut=it;ut.alea=rt,ut.xor128=ct,ut.xorwow=ot,ut.xorshift7=ht,ut.xor4096=lt,ut.tychei=dt;var mt=ut;class ft extends V{constructor(t,i,n){super(0,0,0,0),e(this,"type"),e(this,"startTimer"),e(this,"X",0),e(this,"Y",0),e(this,"draw"),e(this,"gravity",0),e(this,"point",(t=>{const e=t.entity.player.x/t.game.measure.getMeter(1);t.game.story.push(Number(e.toFixed(3)));const i=Number(e.toFixed(3));var n,s;console.log(this.X,(n=[i,i+1.8],s=[this.X-1,this.X],!(n[1]<s[0]||n[0]>s[1])))})),e(this,"render",((t,e)=>{this.startTimer||(this.startTimer=Date.now(),this.y=e.getY(1)-this.width/2);const i=1e3-t.game.gravity||100;this.width=e.getMeter(1),this.height=e.getMeter(1);const n=this.width/2,[s,a]=e.clampY,r=(a-s)/e.meter,c=Date.now()-this.startTimer;this.x=e.getX(this.X)-n,this.y=this.y+e.getMeter(_(c/i,0,r)),this.draw&&this.draw(),this.startTimer=Date.now()})),this.type=t,this.X=i,this.draw=n}}const pt=(t,e,i,n)=>`\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">\n  <path d="M194 224c-50-25-167-120-36-188s152 52 118 146c-23 64-82 42-82 42Z" fill="${e}" />\n  <path\n    d="M192 99c35 104-34 115-82 50 20 34 60 63 84 75 0 0 59 22 82-42 10-29 16-62 14-90-4 67-50 101-98 7Z"\n    fill="${i}" />\n  <path d="M271 181c12-54 76-191 173-79s-14 159-114 149c-67-8-59-70-59-70Z" fill="${e}" />\n  <path\n    d="M391 149c-93 59-119-6-68-67-28 27-47 73-53 99 0 0-7 62 60 70 32 3 64 0 91-8-66 12-110-25-30-94Z"\n    fill="${i}" />\n  <path d="M353 242c55 3 200 44 106 158s-160 12-165-88c-4-67 59-70 59-70Z" fill="${e}" />\n  <path\n    d="M404 355c-73-81-14-118 55-78-32-23-80-34-106-35 0 0-63 3-59 70 1 32 9 64 22 89-23-63 6-113 88-46Z"\n    fill="${i}" />\n  <path d="M295 314c21 50 48 199-96 165s-80-139 7-188c59-33 89 23 89 23Z" fill="${e}" />\n  <path\n    d="M215 409c42-101 101-64 95 16 7-39-5-87-15-111 0 0-30-56-89-23-28 16-53 37-70 59 47-48 105-44 79 59Z"\n    fill="${i}" />\n  <path d="M197 316c-43 35-177 105-186-43s108-118 180-49c50 47 6 92 6 92Z" fill="${e}" />\n  <path\n    d="M82 268c109 10 91 77 13 95 39-4 81-30 102-47 0 0 44-45-6-92-23-21-50-39-77-49 60 31 73 87-32 93Z"\n    fill="${i}" />\n  <circle cx="263.6" cy="248.2" r="74.9" fill="${t}" transform="rotate(-83 264 248)" />\n  <ellipse cx="245.1" cy="222.7" fill="${n}" rx="43.7" ry="30.6"\n    transform="rotate(-38 245 223)" />\n</svg>\n`;let gt;const wt=pt("#ed407e","#ffeef4","#ffd2e2","#ff99c3");class vt extends ft{constructor(t,i,n){super(Rt.EMPTY,t,(()=>{if(gt)return void i.drawImage(gt,this.x,this.y,this.width,this.height);const t=new Image(this.width,this.height),e=window.unescape||window.decodeURI;t.src=`data:image/svg+xml;base64,${window.btoa(e(encodeURIComponent(wt)))}`,gt=t,i.drawImage(gt,this.x,this.y,this.width,this.height)})),e(this,"positive",(t=>{this.point(t),t.entity.units.delete(this),t.game.score+=1})),e(this,"negative",(t=>{this.point(t),t.entity.units.delete(this),t.game.heart-=1,0===t.game.heart&&(t.entity.units=new Set)}))}}let xt;const yt=pt("#871938","#e50047","#d00841","#c41d4c");class Mt extends ft{constructor(t,i,n){super(Rt.EMPTY,t,(()=>{if(xt)return void i.drawImage(xt,this.x,this.y,this.width,this.height);const t=new Image(this.width,this.height),e=window.unescape||window.decodeURI;t.src=`data:image/svg+xml;base64,${window.btoa(e(encodeURIComponent(yt)))}`,xt=t,i.drawImage(xt,this.x,this.y,this.width,this.height)})),e(this,"positive",(t=>{this.point(t),t.entity.units.delete(this),t.game.score+=1})),e(this,"negative",(t=>{this.point(t),t.entity.units.delete(this),t.game.heart-=1,0===t.game.heart&&(t.entity.units=new Set)}))}}let bt;const _t=pt("#074f74","#c2f2ff","#40c3f2","#00699b");class It extends ft{constructor(t,i,n){super(Rt.EMPTY,t,(()=>{if(bt)return void i.drawImage(bt,this.x,this.y,this.width,this.height);const t=new Image(this.width,this.height),e=window.unescape||window.decodeURI;t.src=`data:image/svg+xml;base64,${window.btoa(e(encodeURIComponent(_t)))}`,bt=t,i.drawImage(bt,this.x,this.y,this.width,this.height)})),e(this,"positive",(t=>{this.point(t),t.entity.units.delete(this),t.game.score+=1})),e(this,"negative",(t=>{this.point(t),t.entity.units.delete(this),t.game.heart-=1,0===t.game.heart&&(t.entity.units=new Set)}))}}let Ct;class Nt extends ft{constructor(t,i,n){super(Rt.SPEED,t,(()=>{if(Ct)return void i.drawImage(Ct,this.x,this.y,this.width,this.height);const t=new Image(this.width,this.height),e=window.unescape||window.decodeURI;t.src=`data:image/svg+xml;base64,${window.btoa(e(encodeURIComponent('\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">\n  <path\n    d="M48 61.5c-3.7 1.3-9.7 4-13.8 5.8s-6.5 3-7.4 4-.4 2 2.4 3a42.5 42.5 0 0 0 12 1.9 23.6 23.6 0 0 0 9-1.7c2-.8 3-1.5 3.6-3.9a19.8 19.8 0 0 0-.3-8.5c-.6-2-2-2-5.6-.7Zm32-32c-1 3.9-2.6 10.6-4.6 17.4a269 269 0 0 1-14.3 37.6C58.8 89 57 92.2 56.5 94s.4 2.3 1.5 2.3 2.8-.8 5-2.5a46.6 46.6 0 0 0 8.2-9.2A133.5 133.5 0 0 0 82 66.8a82.4 82.4 0 0 0 6.1-16.1 22.6 22.6 0 0 0 .7-10.2 39.8 39.8 0 0 0-3-9.6C84.3 28 83 25.6 82 25s-1 .5-2 4.5Zm-34.5-13c-.5-3.5-.9-6.6-.4-8s2-1.2 4.3.2a27.6 27.6 0 0 1 7.2 6 10.2 10.2 0 0 1 2 6.2 14.3 14.3 0 0 1-.5 5.5 5.6 5.6 0 0 1-3 3c-1.5.7-3.4 1.5-4.7 1.3s-2-1.5-2.8-4.1-1.4-6.5-2-10Z"\n     fill="#ffc35a" fill-rule="evenodd" />\n  <path\n    d="M30.8 7a100 100 0 0 0-14.4 5.7c-4 2.2-5.4 4-5.6 8.6s.5 11.7 2 19A133.5 133.5 0 0 0 18 59.8c1.7 4.6 3.1 6.4 4.5 7.8s2.6 2.6 6.9 1.5S41 64.7 45 62.9s4.7-2 5.4 3.6 1.3 17.2 1.8 23 1 5.7 2.6 4.1 4.4-4.5 7.7-10.6a143.5 143.5 0 0 0 10-24 164.2 164.2 0 0 0 5.3-22.6c.9-5.6 1.1-8.6.8-10.8s-1.2-3.4-3.7-3.4-6.4 1.2-10.7 2.7-8.8 3.3-11.2 4.3-2.8 1-3.5.8-1.8-1-2.9-4.6-2.3-10.2-3-14.3-1-5.6-1.6-6.3-1.6-.5-3.2-.1a77.2 77.2 0 0 0-8 2.2Z"\n     fill="#ffc35a" fill-rule="evenodd" />\n  <path fill="#ffa64d" fill-rule="evenodd"\n    d="M20 12c-.5 1.3-1 3-.8 7.9a165.4 165.4 0 0 0 2.9 20c1.4 7 3.2 13.3 4.2 16.6s1.1 3.5 1.6 3.9 1.4.7 5-.5 10-4.2 14.1-6.1 6.1-2.8 7.6-2.9 2.3.7 2.8 3.5a73.8 73.8 0 0 1 .6 12.7c-.1 4.8-.4 9.5-.7 13.5l-.7 11-3.2 3.6c-.6-.9-1.1-1.8-1.6-7.6s-1-16.3-1.3-27l-23.2 10-5.4-1.9c-3.7-9.6-7.3-19.1-9.2-27.3a77 77 0 0 1-2-19c.2-4.1.4-5.6 1.1-6.9a8.7 8.7 0 0 1 3.5-3.3 52.9 52.9 0 0 1 6.2-2.9 16.3 16.3 0 0 0-1.4 2.7Z" />\n  <path\n    d="M50.4 27.7a6.2 6.2 0 0 0 .7-.3A123 123 0 0 1 68.5 20c3.4-1.1 8.9-2.7 12-.5 2.8 2 2.6 5.9 2.1 8.8a233.6 233.6 0 0 1-9 35.8A112 112 0 0 1 60 92.9a15.6 15.6 0 0 1-4.4 4.6 4.2 4.2 0 0 1-4 .3C49.5 96.6 49 93.2 49 91c0-7.4-.3-14.8-.6-22.2l-.1-4.7-1.2.5a213.5 213.5 0 0 1-16 6.9c-5.2 2-10 1.3-12.7-4A120.3 120.3 0 0 1 7.1 23.2c-.3-4.8.7-8.3 4.9-11.2a57.2 57.2 0 0 1 9.6-5.1 85.5 85.5 0 0 1 13.8-4.7c4.7-1 10-1.2 11.5 4.5 1.7 6.6 2.5 13.5 3.4 20.3a3.1 3.1 0 0 0 .1.7Zm3.2 65.5a8.1 8.1 0 0 0 1.7-1.8c5.8-8.2 9.9-19.4 13-28.7a239.4 239.4 0 0 0 9-35.5c.2-.8.4-2.4-.2-3-1-.9-4 0-5 .4A129.5 129.5 0 0 0 53.3 32c-4.6 2.4-7.7.8-8.3-4.3-1-6.8-1.9-14.1-3.6-20.7-.4-1.6-3.4-.6-4.4-.3-7.4 2-16.5 5-22.7 9.5-2 1.4-2 4-1.7 6.1 1.1 14.3 4 30.7 10.5 43.6 1.3 2.5 3.2 2 5.4 1 5.3-2 11-4.1 16.1-6.6l1.7-.8c1.4-.7 4.2-2.1 5.7-1.2 1.7 1 1.4 4.2 1.5 6.1.3 9.1.2 18.7 0 27.8a8.8 8.8 0 0 0 0 1Z"\n     fill="#2d2827" />\n  <path\n    d="m46.2 9.5 6.4 4.2a7.3 7.3 0 0 1 3.4 4 38 38 0 0 1 1.3 5.8c.3 1.6.6 2.1.8 2.3s.6-.3.8-1.3A20.8 20.8 0 0 0 59 20a20.5 20.5 0 0 0-1-5.2 7.5 7.5 0 0 0-2.3-3.2 117.3 117.3 0 0 0-8.8-7.3 15.3 15.3 0 0 0-3-1.9 7.2 7.2 0 0 0-2.4-.6 11.2 11.2 0 0 0-2.1 0 5.2 5.2 0 0 0-2 .4 3.4 3.4 0 0 0-1 1.3c-.3.4-.4.6 0 .8a3.8 3.8 0 0 0 1.5.3 2.7 2.7 0 0 1 1.5.3 32.3 32.3 0 0 1 3 2l3.9 2.7ZM19.8 69.5a22 22 0 0 0 1.9 1.9 21.3 21.3 0 0 0 2.5 1.6 23.1 23.1 0 0 0 2.7 1.4 35 35 0 0 0 3.5 1.1c1.3.5 3 .9 4.5 1.2a31.9 31.9 0 0 0 3.9.5 23 23 0 0 0 3.3 0 17.3 17.3 0 0 0 3.6-.6 27.8 27.8 0 0 0 4-1.3c1-.4 1.2-.7 1.3-1s-.1-.5-.7-.4l-2.9.4a18 18 0 0 1-3.3.3 27.8 27.8 0 0 1-4.1-.1 29.5 29.5 0 0 1-4.3-1 16.1 16.1 0 0 1-3.3-1.2 9.7 9.7 0 0 1-2.1-1.5 19.6 19.6 0 0 1-1.6-1.6c-3.2-.2-6.4-.4-7.8-.3s-1.3.3-1 .6ZM81 20a9.2 9.2 0 0 1 1.4 1.5 22.6 22.6 0 0 1 1.9 2.5l2.3 3.9A51.5 51.5 0 0 1 89 33a44 44 0 0 1 1.9 5.5 16.1 16.1 0 0 1 .5 4 14.7 14.7 0 0 1-.7 4.4 74 74 0 0 1-2.5 7.6A86.3 86.3 0 0 1 81 69.7a276.8 276.8 0 0 1-9.2 15 89.3 89.3 0 0 1-5.5 7 28.4 28.4 0 0 1-4.5 4.4 11 11 0 0 1-3 1.7 9.3 9.3 0 0 1-2.9.5 13.5 13.5 0 0 1-2.8-.2c-.7 0-1-.2-1.3-.8s-.3-1.7.3-2.1 1.8-.1 2.9 0a9.3 9.3 0 0 0 2.7 0 6 6 0 0 0 2.7-1.4 28.5 28.5 0 0 0 4.4-4.6 177.3 177.3 0 0 0 13.2-20.5 113.6 113.6 0 0 0 5.5-11.9 82.6 82.6 0 0 0 3.3-9.8 15.3 15.3 0 0 0 .6-5.4 17.5 17.5 0 0 0-.9-4.3 33.5 33.5 0 0 0-2.2-5.2 41.6 41.6 0 0 0-3.6-5.5 40.5 40.5 0 0 0-3.4-3.7c-1-.9-1.4-1.3-1-1.9a6.8 6.8 0 0 1 2.9-1.3 1.7 1.7 0 0 1 1.7.4Z"\n     fill="#2d2827" />\n</svg>\n')))}`,Ct=t,i.drawImage(Ct,this.x,this.y,this.width,this.height)})),e(this,"positive",(t=>{this.point(t),t.entity.units.delete(this);const e=t.game.mod.get("speed");e?t.game.mod.set("speed",e+4e3):t.game.mod.set("speed",Date.now()+4e3)})),e(this,"negative",(t=>{this.point(t),t.entity.units.delete(this)}))}}let St;let Zt=class extends ft{constructor(t,i,n){super(Rt.EMPTY,t,(()=>{if(St)return void i.drawImage(St,this.x,this.y,this.width,this.height);const t=new Image(this.width,this.height),e=window.unescape||window.decodeURI;t.src=`data:image/svg+xml;base64,${window.btoa(e(encodeURIComponent('\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">\n  <path fill="#f7263f"\n    d="M489 191c0 174-240 264-240 264S10 365 10 191c0-75 58-135 129-135 47 0 88 26 110 64 23-38 64-64 111-64 71 0 129 60 129 135Z" />\n  <path fill="#cc1f3c"\n    d="M489 191c0 174-240 264-240 264s-96-36-166-106c237 70 323-70 323-174 0-81-58-106-85-113a125 125 0 0 1 39-6c71 0 129 60 129 135Z" />\n  <path fill="#ff7683"\n    d="M157 88c-41-4-127 1-115 117a4 4 0 0 0 8 1c10-31 38-89 108-110a4 4 0 0 0-1-8Z" />\n</svg>\n')))}`,St=t,i.drawImage(St,this.x,this.y,this.width,this.height)})),e(this,"positive",(t=>{this.point(t),t.entity.units.delete(this),t.game.heart=_(t.game.heart+1,0,3),t.game.score+=1})),e(this,"negative",(t=>{this.point(t),t.entity.units.delete(this)}))}};let At;class Et extends ft{constructor(t,i,n){super(Rt.EMPTY,t,(()=>{if(At)return void i.drawImage(At,this.x,this.y,this.width,this.height);const t=new Image(this.width,this.height),e=window.unescape||window.decodeURI;t.src=`data:image/svg+xml;base64,${window.btoa(e(encodeURIComponent('\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">\n  <defs>\n    <style>.cls-2{fill:#313944}.cls-4{fill:#232323}</style>\n  </defs>\n      <path\n        d="M113 109a193 193 0 0 0-89 228c24 72 88 132 163 143 77 11 164-28 206-94 51-79 32-172-32-237-45-46-108-72-172-65a198 198 0 0 0-76 25Z"\n        class="cls-2" />\n      <path fill="#363f49"\n        d="M272 154c-46 0-106 7-150 29-79 39-92 108-70 172l28 70A196 196 0 0 1 240 85c26 7 34-1 18 29-9 15 6 29 14 40Z" />\n      <path\n        d="M112 108a198 198 0 0 0-46 36 196 196 0 0 0-33 49 193 193 0 0 0-17 117 206 206 0 0 0 19 58 220 220 0 0 0 34 49 213 213 0 0 0 46 38 192 192 0 0 0 55 23 188 188 0 0 0 58 5 221 221 0 0 0 59-13 231 231 0 0 0 53-28 206 206 0 0 0 44-41 187 187 0 0 0 31-55 176 176 0 0 0 9-61 185 185 0 0 0-12-60 215 215 0 0 0-31-55 232 232 0 0 0-47-47 217 217 0 0 0-57-30 200 200 0 0 0-165 15c-1 1 0 3 2 2a196 196 0 0 1 131-22 208 208 0 0 1 61 21 221 221 0 0 1 52 39 229 229 0 0 1 38 51 196 196 0 0 1 21 57 175 175 0 0 1 2 60 179 179 0 0 1-21 60 188 188 0 0 1-37 47 219 219 0 0 1-49 33 225 225 0 0 1-56 20 200 200 0 0 1-58 4 180 180 0 0 1-56-15 202 202 0 0 1-50-31 218 218 0 0 1-39-43 213 213 0 0 1-26-53 197 197 0 0 1-11-60 191 191 0 0 1 34-110 192 192 0 0 1 64-58c1-1 0-3-2-2Z"\n        class="cls-4" />\n      <path\n        d="M308 57c-4-1-8-2-12-1s-7 5-10 8a202 202 0 0 0-29 51c-1 4-3 8-2 13l4 8a264 264 0 0 0 125 100l46-52c46-52-87-117-122-127Z"\n        class="cls-2" />\n      <path\n        d="M308 56c-5-1-10-2-14 0-4 1-7 5-10 8a202 202 0 0 0-28 50c-2 4-3 9-2 14 0 4 3 8 6 11a263 263 0 0 0 33 40 267 267 0 0 0 40 32 266 266 0 0 0 45 24l6 2a1 1 0 0 0 1 0l34-38 8-9 6-7a39 39 0 0 0 5-9 33 33 0 0 0 2-19 52 52 0 0 0-8-18 106 106 0 0 0-15-19 198 198 0 0 0-21-17l-23-15-24-13-21-10-17-6-3-1h-2l2 2c12 3 23 9 35 14a352 352 0 0 1 45 26c14 10 28 21 38 34 8 10 14 23 11 36a34 34 0 0 1-4 9l-10 12-33 37-7 9h1a258 258 0 0 1-44-22 262 262 0 0 1-40-30 261 261 0 0 1-33-37l-7-10c-2-4-4-8-3-13 0-4 2-9 4-13l6-13a204 204 0 0 1 14-23l8-11c2-3 7-6 11-6a27 27 0 0 1 8 1h1l-1-2Z"\n        class="cls-4" />\n      <path\n        d="M301 77c4 10 8 19 14 28s14 15 22 22c16 13 32 25 50 34a157 157 0 0 0 32 11v-1l-1-2c-19-4-37-13-53-23l-24-17c-8-6-16-13-22-21-7-8-12-19-16-29a5 5 0 0 0-1-2h-1Z"\n        class="cls-4" />\n      <path fill="#546370" stroke="#232323" stroke-miterlimit="10" stroke-width=".7"\n        d="M182 112a22 22 0 0 1 13 2c15 7-7 3-44 13-18 5-31 11-37 15a3 3 0 0 1-3 0c-7-4 35-21 39-23 17-5 22-5 32-7Z" />\n      <path fill="#e9d656"\n        d="m342 136 16-36-34-12-10-3 40-10-15-16 24 1-5-41 29 30 8-23 14 23 55-22-32 39 31 20-36 5 19 55-48-36-7 23-13-20-41 35Z" />\n      <path\n        d="m360 23 28 29 8-23 12 21 52-20-30 36 29 19-34 5 18 52-46-34-6 22-13-19-38 32 3-7c7-15 15-32 16-37l-35-12-5-2 38-9-14-16 21 2-4-39m-4-8 1 8 4 36-18-1-7-1 5 5 11 13-33 8-9 2 8 3 5 2 33 11-15 34-3 7-5 11 9-8 36-30 11 16 3 5 2-5 5-19 43 32 7 6-3-9-17-48 31-5 7-1-6-4-27-17 28-34 7-8-10 4-49 19-12-19-3-5-2 5-6 19-25-26-6-6Z"\n        class="cls-4" />\n      <path fill="#f9b938"\n        d="m362 27 27 28 7-22 12 19 47-18-27 33 27 17-32 5 17 49-44-33-6 21-11-18-34 29s18-39 16-39l-36-12 35-9-14-15 20 2-4-37m-4-9 1 10 3 32-15-1h-8l5 5 10 11-30 7-10 3 10 4 17 6 16 5-15 36-6 13 11-10 31-26 10 15 4 6 2-7 4-17 40 30 8 7-3-10-15-45 27-4 9-2-7-4-25-16 25-30 8-9-12 4-44 17-10-17-4-6-2 7-6 17-23-24-6-7Z" />\n      <path fill="#fff"\n        d="m396 91-2 8-5-7-14 12 1-3 6-13-13-5h-1l13-4-5-5h8l-2-14 11 11 2-9 5 8 19-7-11 13 11 7-13 2 7 19Z"\n        opacity=".9" />\n</svg>\n')))}`,At=t,i.drawImage(At,this.x,this.y,this.width,this.height)})),e(this,"positive",(t=>{this.point(t),t.entity.units.delete(this),t.game.heart-=1,0===t.game.heart&&(t.entity.units=new Set)})),e(this,"negative",(t=>{this.point(t),t.entity.units.delete(this),0===t.game.heart&&(t.entity.units=new Set)}))}}class zt extends ft{constructor(t,i,n){super(Rt.EMPTY,t,(()=>{})),e(this,"positive",(t=>{this.point(t),t.entity.units.delete(this)})),e(this,"negative",(t=>{this.point(t),t.entity.units.delete(this)}))}}let Tt;const Xt=pt("#9b4d0d","#fec700","#f69f16","#c6934f");class kt extends ft{constructor(t,i,n){super(Rt.EMPTY,t,(()=>{if(Tt)return void i.drawImage(Tt,this.x,this.y,this.width,this.height);const t=new Image(this.width,this.height),e=window.unescape||window.decodeURI;t.src=`data:image/svg+xml;base64,${window.btoa(e(encodeURIComponent(Xt)))}`,Tt=t,i.drawImage(Tt,this.x,this.y)})),e(this,"positive",(t=>{this.point(t),t.entity.units.delete(this),t.game.score+=1})),e(this,"negative",(t=>{this.point(t),t.entity.units.delete(this),t.game.heart-=1,0===t.game.heart&&(t.entity.units=new Set)}))}}var Rt=(t=>(t.EMPTY="empty",t.DANGER="danger",t.HEART="heart",t.SPEED="speed",t.BLUE="blue",t.RED="red",t.WHITE="white",t.YELLOW="yellow",t))(Rt||{});class Ft{constructor(t,i,n=1,s=9){e(this,"rand"),e(this,"parts"),e(this,"min"),e(this,"max"),e(this,"getItem",(()=>{const t=this.random(this.min,this.max,this.rand());return[this.spawn(this.parts,this.rand()),t]})),e(this,"random",((t,e,i)=>{let n=t-.5+i*(e-t+1);return Math.round(n)})),e(this,"spawn",((t,e)=>{const i=e*t.reduce(((t,[e,i])=>t+i),0);let n=0;for(const[s,a]of t)if(n+=a,i<n)return s;return"empty"})),e(this,"new",((t,e)=>{const[i,n]=t.game.map.getItem();if("empty"!==i)if("danger"!==i)if("heart"!==i)if("speed"!==i)if("blue"!==i)if("red"!==i)if("white"!==i)if("yellow"!==i);else{const i=new kt(n,e,t.game.measure);t.entity.units.add(i)}else{const i=new vt(n,e,t.game.measure);t.entity.units.add(i)}else{const i=new Mt(n,e,t.game.measure);t.entity.units.add(i)}else{const i=new It(n,e,t.game.measure);t.entity.units.add(i)}else{const i=new Nt(n,e,t.game.measure);t.entity.units.add(i)}else{const i=new Zt(n,e,t.game.measure);t.entity.units.add(i)}else{const i=new Et(n,e,t.game.measure);t.entity.units.add(i)}else{const i=new zt(n,e,t.game.measure);t.entity.units.add(i)}})),this.rand=mt(t),this.parts=i,this.min=n,this.max=s}}const Yt=({type:t,children:e,...n})=>i(I,{type:"button",className:r("FLButton",`FLButton--${t}`),...n,children:i("div",{className:"FLButton__outer",children:i("div",{className:"FLButton__inner",children:e})})}),$t="x",Bt="z",Dt="v",Ut=({type:t="white",count:e=0})=>{const s={yellow:["#9b4d0d","#fec700","#f69f16","#c6934f"],white:["#ed407e","#ffeef4","#ffd2e2","#ff99c3"],red:["#871938","#e50047","#d00841","#c41d4c"],blue:["#074f74","#c2f2ff","#40c3f2","#00699b"]}[t];return n("div",{className:$t,children:[i("div",{className:r(Bt,"flower_animation"),children:i(C,{color:s})}),i("div",{className:Dt,children:e})]})},Pt="a",jt=({active:t})=>i("div",{className:Pt,children:n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"100%",height:"100%",children:[i("path",{fill:"#fff",d:"M70.7,4.2a27.41,27.41,0,0,0-19.8,8.7,1.2,1.2,0,0,1-1.69.11l-.11-.11A27.41,27.41,0,0,0,29.3,4.2C13.6,4.2.8,18.2.8,35.2A32,32,0,0,0,11.5,60.3l35,34a5,5,0,0,0,7.07.13l.13-.13L89.5,58.5c4.9-5.5,9.7-11.8,9.7-23.3C99.2,18.2,86.4,4.2,70.7,4.2Z"}),t&&i("path",{d:"m18.5 52.9-.4-.4C13.6 49 11 42.5 11 35.2c0-11.5 8.2-20.8 18.3-20.8 6.7 0 12.9 4.2 16.1 10.9a5 5 0 0 0 7.7 1.9 5.5 5.5 0 0 0 1.6-2 18.1 18.1 0 0 1 16-10.8c10 0 18.3 9.3 18.3 20.8 0 7.2-2.4 11.2-7.1 16.5l-.2.2-5.2 5.1-12.2 12.3L52 81.5a3 3 0 0 1-4.1 0Z",fill:"red"})]})}),qt=window&&"ontouchstart"in window,Lt=({nav:t})=>{const e=c(),s=e.game,a=e.map,d=e.items,[[u,m],f]=o.useState([3,0]),p=o.useRef(new L).current,g=o.useRef({game:{mod:new Map,map:new Ft(a,d),measure:p,platform:p.getY(3),gravity:0,score:0,heart:3,story:[]},entity:{player:new H,units:new Set,blocks:new Set}}).current,w=t=>{console.log("end")},v=t=>{console.log("end")};const x=qt?{onTouchStart:t=>{const e=t.touches[0];e&&(g.game.platform=2*e.clientX)},onTouchMove:t=>{const e=t.touches[0];e&&(g.game.platform=2*e.clientX)},onTouchEnd:w,onTouchCancel:w}:{onMouseDown:t=>{},onMouseMove:t=>{console.log("move")},onMouseUp:v,onMouseLeave:v};return o.useEffect((()=>{0===u&&h({view:"end",params:{gameID:s,story:g.game.story}})}),[u]),i(l,{fixed:!0,nav:t,safeBottom:!1,safeTop:!1,children:n("div",{className:"Florist",children:[i(N,{quality:2,limitFrames:120,onRender:({width:t,height:e,quality:i,context:n,next:s})=>{if(f([g.game.heart,g.game.score]),0===g.game.heart)return s();n.clearRect(0,0,t,e),p.update([9,16],t,e);const a=(r=g.game.score,_(820+r/2,0,920));var r;if(g.game.mod.has("speed")){(g.game.mod.get("speed")||0)>Date.now()?g.game.gravity=a+20:g.game.mod.delete("speed")}else g.game.gravity=a;g.entity.units.forEach((t=>{t.render(g,p),p.isCollision(g.entity.player,t)&&t.positive(g)})),g.entity.blocks.forEach((t=>{t.render(n,p),t.execute()})),g.entity.player.render(n,g.game.platform,p),s()},onInitial:({width:t,height:e,quality:i,context:n,next:s})=>{p.update([9,16],t,e),g.game.platform=p.getX(5),g.entity.blocks.add(new O(p.getX(1),p.getY(16),p.getMeter(9),p.getMeter(1),(t=>{g.entity.units.forEach((e=>{p.isCollision(t,e)&&p.mutex(t,e)&&e.negative(g)}))}))),g.entity.blocks.add(new O(p.getX(1),p.getY(5),p.getMeter(9),p.getMeter(4),(t=>{g.entity.units.forEach((e=>{p.isCollision(t,e)&&p.mutex(t,e)&&g.game.map.new(g,n)}))}))),g.game.map.new(g,n),s()},...x}),n("div",{className:"Florist__absolute",children:[i(S,{width:9,height:16,before:n("div",{className:r("Florist_counter",{"Florist_counter--hard":m>20&&m<50,"Florist_counter--extreme":m>50}),children:[i("div",{className:"Florist_hearts",children:Array.from(Array(3)).map(((t,e)=>i(jt,{active:e<u})))}),i("span",{children:"score"}),i("span",{children:m})]}),after:i("div",{className:"Florist__cloud",children:n("div",{className:"Florist__inner",children:[i("span",{}),i("span",{}),i("span",{}),i("span",{}),i("span",{}),i("span",{}),i("span",{}),i("span",{}),i("span",{}),i("span",{}),i("span",{})]})})}),i("div",{className:"Florist__footer"})]})]})})},Vt=()=>i("div",{className:"Menu__header",children:i(j,{})}),Wt=()=>{const t=t=>h({panel:t,stay:t});return n("div",{className:"Florist__footer",children:[n("div",{className:"Florist__bar",children:[i(Z,{className:"HomeIcon__rating",title:"Рейтинг",icon:i(A,{size:38}),onClick:()=>t("rating")}),i(Z,{className:"HomeIcon__tasks",title:"Задания",icon:i(E,{size:38}),onClick:()=>t("tasks")})]}),i("div",{className:"Florist__lawn",children:n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 120.4",height:"100%",children:[i("path",{fill:"#7bc321",d:"M250 0C112 0 0 54 0 120.4h500C500 54 388 0 250 0Z"}),i("path",{fill:"#629e13",d:"M171.5 79.3c-4.3 5.7-3.4 16 0 21.8 1.3 2.3 4.1 3.3 6.6 3.5-.7-1.3 0-4.6.4-5.9 8.1 12 9.6 6.3 18.6 0 12.6-4.1 5.8 8 12-9.3 1.2-2.8 3.2-.4 4.3 1.2 2.4 3.5-.3-9-.4-10.9-1-6.2-6.9-19.9-7-5-1.3 5.2-3.3 12.1-6.6 16.3-2.8-.2-4.3-3-4.7-5.4-3.9-1.8-2.6 7.8-9.3 2-3-2.5.2 4-2.3 5a7.9 7.9 0 0 1-4.7-4c-3.3 2.7-5-3.5-5.8-5.8-.6-.9.3-5.6-1.1-3.5M285.9 36.6c-4.3 5.7-3.4 16 0 21.8 1.3 2.2 4 3.3 6.6 3.4-.7-1.3 0-4.5.4-5.8 8.1 11.9 9.5 6.2 18.6 0 12.6-4.2 5.8 8 12-9.3 1.1-2.9 3.1-.4 4.2 1.1 2.5 3.5-.3-9-.3-10.8-1-6.2-7-20-7-5a46.5 46.5 0 0 1-6.6 16.3c-2.8-.3-4.3-3-4.7-5.5-3.9-1.8-2.6 7.8-9.3 2-3.1-2.4.2 4-2.3 5a7.9 7.9 0 0 1-4.7-3.9c-3.3 2.6-5-3.5-5.8-5.8-.6-1 .2-5.7-1.2-3.5"}),i("path",{fill:"#3c9006",d:"M217.9 36.6c.7 3.4 2 10 4.8 13.2a2.8 2.8 0 0 0 4.2 0c2.8-3 3.4-8.8 7.5-2.6a2.7 2.7 0 0 0 1.2 1c6.3 2.6 12.7 2 15.4-4a2.8 2.8 0 0 1 3.4-1.6c8.5 2.4 5.9-1 11.4-5a2.9 2.9 0 0 1 2-.4c5.3.6.7-14.5 9.7-21a2.8 2.8 0 0 0-.3-4.7c-7.2-4.2-15.3-11-10.6 1a2.8 2.8 0 0 1 .2 1.4c-.5 4.9-2.7 10.6-7.3 12.5a2.9 2.9 0 0 1-2.7-.3c-5.7-4-6-7.5-8.7 1.6a2.8 2.8 0 0 1-1.6 1.8c-4 1.7-8 0-10.1-3.6a3 3 0 0 0-2.8-1.4 20.3 20.3 0 0 1-7.5-1l-.3-.1c-2.4-1.3-9.3-6.3-11.4-7.4M404.8 54.5c.4 1.5 1 4.4 2.2 5.9a1.3 1.3 0 0 0 1.9 0c1.2-1.4 1.5-4 3.3-1.2a1.3 1.3 0 0 0 .6.4c2.7 1.1 5.6 1 6.8-1.8a1.3 1.3 0 0 1 1.5-.7c3.8 1.1 2.6-.4 5-2.2a1.2 1.2 0 0 1 1-.2c2.3.3.3-6.4 4.3-9.4a1.3 1.3 0 0 0-.2-2c-3.2-1.9-6.7-4.9-4.7.4a1.2 1.2 0 0 1 .1.6c-.2 2.2-1.2 4.8-3.2 5.6a1.2 1.2 0 0 1-1.2-.1c-2.6-1.8-2.6-3.4-3.9.7a1.3 1.3 0 0 1-.7.8 3.5 3.5 0 0 1-4.5-1.6 1.3 1.3 0 0 0-1.2-.6 9 9 0 0 1-3.4-.5h-.1c-1.1-.6-4.2-2.8-5.1-3.4M93.5 102c.5 2 1.3 6.1 3 8.1a1.8 1.8 0 0 0 2.6.1c1.8-1.9 2.1-5.5 4.7-1.7a1.6 1.6 0 0 0 .8.7c3.9 1.5 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2-1c5.3 1.5 3.7-.6 7.2-3a1.8 1.8 0 0 1 1.2-.3c3.3.3.5-9 6-13.2a1.8 1.8 0 0 0-.2-2.9c-4.4-2.6-9.5-6.8-6.5.7a1.7 1.7 0 0 1 0 .8c-.2 3-1.6 6.7-4.5 7.8a1.7 1.7 0 0 1-1.6-.2c-3.6-2.5-3.7-4.6-5.5 1a1.8 1.8 0 0 1-1 1.2 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.7-1 12.5 12.5 0 0 1-4.7-.6 1 1 0 0 1-.2 0c-1.5-.8-5.8-4-7.1-4.7M136.8 37.5c.5 2 1.3 6.2 3 8.2a1.8 1.8 0 0 0 2.7 0c1.7-1.8 2-5.5 4.6-1.6a1.8 1.8 0 0 0 .8.7c4 1.5 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2.1-1c5.3 1.5 3.7-.7 7.1-3a1.8 1.8 0 0 1 1.2-.4c3.4.4.5-9 6-13a1.8 1.8 0 0 0-.1-3c-4.5-2.6-9.5-6.8-6.6.7a1.6 1.6 0 0 1 .1.8c-.3 3-1.7 6.6-4.5 7.8a1.8 1.8 0 0 1-1.7-.2c-3.6-2.5-3.7-4.7-5.4 1a1.8 1.8 0 0 1-1 1.1 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.8-1 13 13 0 0 1-4.6-.5h-.2c-1.5-.9-5.8-4-7.1-4.7M342.4 73.2c.5 2 1.3 6.2 3 8.2a1.8 1.8 0 0 0 2.7 0c1.7-1.8 2-5.5 4.6-1.6a1.7 1.7 0 0 0 .8.7c3.9 1.5 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2-1c5.4 1.5 3.8-.7 7.2-3a1.8 1.8 0 0 1 1.2-.3c3.4.3.5-9.1 6-13.2a1.8 1.8 0 0 0-.1-3c-4.5-2.5-9.5-6.7-6.6.8a1.8 1.8 0 0 1 .1.8c-.3 3-1.7 6.6-4.5 7.8a1.8 1.8 0 0 1-1.7-.2c-3.6-2.5-3.7-4.7-5.4 1a1.8 1.8 0 0 1-1 1.1 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.7-.9 12.7 12.7 0 0 1-4.7-.6h-.2c-1.5-.9-5.8-4-7.1-4.7"}),i("path",{fill:"#629e13",d:"M260.7 92c.5 2.1 1.3 6.2 3 8.2a1.8 1.8 0 0 0 2.7.1c1.7-1.9 2-5.5 4.6-1.6a1.6 1.6 0 0 0 .8.6c4 1.6 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2.1-1c5.3 1.6 3.7-.6 7.1-3a1.8 1.8 0 0 1 1.2-.3c3.4.4.5-9 6-13.1a1.8 1.8 0 0 0-.1-3c-4.5-2.5-9.5-6.7-6.6.7a2 2 0 0 1 .1.8c-.3 3.1-1.7 6.7-4.5 7.8a1.8 1.8 0 0 1-1.7-.1c-3.6-2.6-3.7-4.7-5.4 1a1.8 1.8 0 0 1-1 1 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.8-.9 13 13 0 0 1-4.6-.6l-.2-.1c-1.5-.8-5.8-3.9-7.1-4.6"}),i("path",{fill:"#649c19",d:"M30.5 103.3c5.4-4.3 10.9 2.7 13 7.5 7.9-2.3 12.9-11.4 20.3-13.6C82.3 109 82 79.2 84.2 67.5c-1.4-4.7-1.8-5.5-6.8-3.7a19.5 19.5 0 0 1-7.4 8c-.7 3.8-3.7 9-7.4 10.5-14.6-24.8-9.1-8.2-20.3 2.2-16.6 1.7-9-7-15-16.3M424.7 107.3c4.8-3.8 9.6 2.4 11.4 6.6 7-2 11.4-10 17.9-12 16.2 10.4 16-15.9 18-26.1-1.3-4.2-1.7-4.9-6-3.3a17.4 17.4 0 0 1-6.6 7c-.6 3.4-3.3 8-6.5 9.3-12.8-21.9-8-7.2-17.8 2-14.6 1.4-8-6.3-13.2-14.5"})]})})]})},Ht={value:null,time:0},Ot=()=>{const[t,e]=o.useState(Ht.value),i=t=>o.startTransition((()=>{Ht.time=Date.now(),Ht.value=t,e(t)}));return o.useEffect((()=>{if(!t||Ht.time+5e3<Date.now()){(async(t,e,i,n)=>{try{const{error:t,response:s}=await M("https://user.chamomile.elum.su/game/floral/get",{},e);return t?n(t):i(s)}catch{n({code:1,message:""})}})(0,new AbortController,i,(()=>{}))}})),t},Kt=()=>{const t=Ot(),{max:e,last:s}=t||{max:0,last:0};return n(z,{children:[n("div",{className:"Menu__item",children:[i("span",{children:e}),i("span",{children:"лучший"})]}),n("div",{className:"Menu__item",children:[i("span",{children:s}),i("span",{children:"последний"})]})]})},Gt=({nav:t})=>i(l,{fixed:!0,nav:t,header:i(Vt,{}),footer:i(Wt,{}),safeBottom:!1,safeTop:!1,children:i("div",{className:"Menu",children:n("div",{className:"Menu__content",children:[i("div",{className:"Menu__counter",children:i(Kt,{})}),n("div",{className:"Menu__action",children:[i("div",{className:"Menu__start",children:i(Yt,{type:"x",onClick:()=>h({view:"start"}),children:"ИГРАТЬ"})}),i("div",{className:"Menu__exit",children:i(Yt,{type:"l",onClick:()=>h({app:"platform"},["stay","freeze","params"]),children:"ВЫХОД"})})]})]})})}),Qt={value:null,time:0},Jt=({page:t})=>{const e=d(T),s=X("floral",Qt);if(!s)return i(k,{});const{user:a,list:r}=s;return n(R,{children:[e&&i(F,{fixed:!0,type:"flower",user:a.id,position:a.position||">1000",image:e.image,first_name:e.first_name,last_name:e.last_name,count:a.count}),r.map((({id:e,first_name:n,last_name:s,image:a,count:r},c)=>c>20*t?null:i(F,{type:"flower",user:e,position:c+1,image:a,first_name:n,last_name:s,count:r},`${e}_${r}_${c}`)))]})},te=()=>(d(Y),i(o.Fragment,{children:i($,{padding:!0,string:"Рейтинг",children:i(B,{onClick:()=>u()})})})),ee=({nav:t})=>{const[e,n]=o.useState(!0),[s,a]=o.useState(1);return i(l,{nav:t,header:i(te,{}),safeTop:!1,safeBottom:!1,lazy:s<50,onLazy:()=>{s>=50||a((t=>t+1))},isTop:e,onTop:t=>{a(1),n(t)},children:i(Jt,{page:s})})},ie=({nav:t})=>{const e=m("panel");return n(f,{nav:t,activePanel:e,children:[i(Gt,{nav:"default"}),i(ee,{nav:"rating"})]})},ne=()=>i("div",{className:"Menu__header",children:i(j,{})}),se=()=>n("div",{className:"Florist__footer",children:[i("div",{style:{height:"50px"}}),i("div",{className:"Florist__lawn",children:n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 120.4",height:"100%",children:[i("path",{fill:"#7bc321",d:"M250 0C112 0 0 54 0 120.4h500C500 54 388 0 250 0Z"}),i("path",{fill:"#629e13",d:"M171.5 79.3c-4.3 5.7-3.4 16 0 21.8 1.3 2.3 4.1 3.3 6.6 3.5-.7-1.3 0-4.6.4-5.9 8.1 12 9.6 6.3 18.6 0 12.6-4.1 5.8 8 12-9.3 1.2-2.8 3.2-.4 4.3 1.2 2.4 3.5-.3-9-.4-10.9-1-6.2-6.9-19.9-7-5-1.3 5.2-3.3 12.1-6.6 16.3-2.8-.2-4.3-3-4.7-5.4-3.9-1.8-2.6 7.8-9.3 2-3-2.5.2 4-2.3 5a7.9 7.9 0 0 1-4.7-4c-3.3 2.7-5-3.5-5.8-5.8-.6-.9.3-5.6-1.1-3.5M285.9 36.6c-4.3 5.7-3.4 16 0 21.8 1.3 2.2 4 3.3 6.6 3.4-.7-1.3 0-4.5.4-5.8 8.1 11.9 9.5 6.2 18.6 0 12.6-4.2 5.8 8 12-9.3 1.1-2.9 3.1-.4 4.2 1.1 2.5 3.5-.3-9-.3-10.8-1-6.2-7-20-7-5a46.5 46.5 0 0 1-6.6 16.3c-2.8-.3-4.3-3-4.7-5.5-3.9-1.8-2.6 7.8-9.3 2-3.1-2.4.2 4-2.3 5a7.9 7.9 0 0 1-4.7-3.9c-3.3 2.6-5-3.5-5.8-5.8-.6-1 .2-5.7-1.2-3.5"}),i("path",{fill:"#3c9006",d:"M217.9 36.6c.7 3.4 2 10 4.8 13.2a2.8 2.8 0 0 0 4.2 0c2.8-3 3.4-8.8 7.5-2.6a2.7 2.7 0 0 0 1.2 1c6.3 2.6 12.7 2 15.4-4a2.8 2.8 0 0 1 3.4-1.6c8.5 2.4 5.9-1 11.4-5a2.9 2.9 0 0 1 2-.4c5.3.6.7-14.5 9.7-21a2.8 2.8 0 0 0-.3-4.7c-7.2-4.2-15.3-11-10.6 1a2.8 2.8 0 0 1 .2 1.4c-.5 4.9-2.7 10.6-7.3 12.5a2.9 2.9 0 0 1-2.7-.3c-5.7-4-6-7.5-8.7 1.6a2.8 2.8 0 0 1-1.6 1.8c-4 1.7-8 0-10.1-3.6a3 3 0 0 0-2.8-1.4 20.3 20.3 0 0 1-7.5-1l-.3-.1c-2.4-1.3-9.3-6.3-11.4-7.4M404.8 54.5c.4 1.5 1 4.4 2.2 5.9a1.3 1.3 0 0 0 1.9 0c1.2-1.4 1.5-4 3.3-1.2a1.3 1.3 0 0 0 .6.4c2.7 1.1 5.6 1 6.8-1.8a1.3 1.3 0 0 1 1.5-.7c3.8 1.1 2.6-.4 5-2.2a1.2 1.2 0 0 1 1-.2c2.3.3.3-6.4 4.3-9.4a1.3 1.3 0 0 0-.2-2c-3.2-1.9-6.7-4.9-4.7.4a1.2 1.2 0 0 1 .1.6c-.2 2.2-1.2 4.8-3.2 5.6a1.2 1.2 0 0 1-1.2-.1c-2.6-1.8-2.6-3.4-3.9.7a1.3 1.3 0 0 1-.7.8 3.5 3.5 0 0 1-4.5-1.6 1.3 1.3 0 0 0-1.2-.6 9 9 0 0 1-3.4-.5h-.1c-1.1-.6-4.2-2.8-5.1-3.4M93.5 102c.5 2 1.3 6.1 3 8.1a1.8 1.8 0 0 0 2.6.1c1.8-1.9 2.1-5.5 4.7-1.7a1.6 1.6 0 0 0 .8.7c3.9 1.5 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2-1c5.3 1.5 3.7-.6 7.2-3a1.8 1.8 0 0 1 1.2-.3c3.3.3.5-9 6-13.2a1.8 1.8 0 0 0-.2-2.9c-4.4-2.6-9.5-6.8-6.5.7a1.7 1.7 0 0 1 0 .8c-.2 3-1.6 6.7-4.5 7.8a1.7 1.7 0 0 1-1.6-.2c-3.6-2.5-3.7-4.6-5.5 1a1.8 1.8 0 0 1-1 1.2 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.7-1 12.5 12.5 0 0 1-4.7-.6 1 1 0 0 1-.2 0c-1.5-.8-5.8-4-7.1-4.7M136.8 37.5c.5 2 1.3 6.2 3 8.2a1.8 1.8 0 0 0 2.7 0c1.7-1.8 2-5.5 4.6-1.6a1.8 1.8 0 0 0 .8.7c4 1.5 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2.1-1c5.3 1.5 3.7-.7 7.1-3a1.8 1.8 0 0 1 1.2-.4c3.4.4.5-9 6-13a1.8 1.8 0 0 0-.1-3c-4.5-2.6-9.5-6.8-6.6.7a1.6 1.6 0 0 1 .1.8c-.3 3-1.7 6.6-4.5 7.8a1.8 1.8 0 0 1-1.7-.2c-3.6-2.5-3.7-4.7-5.4 1a1.8 1.8 0 0 1-1 1.1 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.8-1 13 13 0 0 1-4.6-.5h-.2c-1.5-.9-5.8-4-7.1-4.7M342.4 73.2c.5 2 1.3 6.2 3 8.2a1.8 1.8 0 0 0 2.7 0c1.7-1.8 2-5.5 4.6-1.6a1.7 1.7 0 0 0 .8.7c3.9 1.5 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2-1c5.4 1.5 3.8-.7 7.2-3a1.8 1.8 0 0 1 1.2-.3c3.4.3.5-9.1 6-13.2a1.8 1.8 0 0 0-.1-3c-4.5-2.5-9.5-6.7-6.6.8a1.8 1.8 0 0 1 .1.8c-.3 3-1.7 6.6-4.5 7.8a1.8 1.8 0 0 1-1.7-.2c-3.6-2.5-3.7-4.7-5.4 1a1.8 1.8 0 0 1-1 1.1 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.7-.9 12.7 12.7 0 0 1-4.7-.6h-.2c-1.5-.9-5.8-4-7.1-4.7"}),i("path",{fill:"#629e13",d:"M260.7 92c.5 2.1 1.3 6.2 3 8.2a1.8 1.8 0 0 0 2.7.1c1.7-1.9 2-5.5 4.6-1.6a1.6 1.6 0 0 0 .8.6c4 1.6 7.9 1.2 9.6-2.6a1.8 1.8 0 0 1 2.1-1c5.3 1.6 3.7-.6 7.1-3a1.8 1.8 0 0 1 1.2-.3c3.4.4.5-9 6-13.1a1.8 1.8 0 0 0-.1-3c-4.5-2.5-9.5-6.7-6.6.7a2 2 0 0 1 .1.8c-.3 3.1-1.7 6.7-4.5 7.8a1.8 1.8 0 0 1-1.7-.1c-3.6-2.6-3.7-4.7-5.4 1a1.8 1.8 0 0 1-1 1 5 5 0 0 1-6.3-2.2 1.8 1.8 0 0 0-1.8-.9 13 13 0 0 1-4.6-.6l-.2-.1c-1.5-.8-5.8-3.9-7.1-4.6"}),i("path",{fill:"#649c19",d:"M30.5 103.3c5.4-4.3 10.9 2.7 13 7.5 7.9-2.3 12.9-11.4 20.3-13.6C82.3 109 82 79.2 84.2 67.5c-1.4-4.7-1.8-5.5-6.8-3.7a19.5 19.5 0 0 1-7.4 8c-.7 3.8-3.7 9-7.4 10.5-14.6-24.8-9.1-8.2-20.3 2.2-16.6 1.7-9-7-15-16.3M424.7 107.3c4.8-3.8 9.6 2.4 11.4 6.6 7-2 11.4-10 17.9-12 16.2 10.4 16-15.9 18-26.1-1.3-4.2-1.7-4.9-6-3.3a17.4 17.4 0 0 1-6.6 7c-.6 3.4-3.3 8-6.5 9.3-12.8-21.9-8-7.2-17.8 2-14.6 1.4-8-6.3-13.2-14.5"})]})})]}),ae="s",re="q",ce="w u j",oe="c",he="k",le="f",de="r",ue=()=>{const[t,e]=o.useState(!0),s=c(),a=s.score,r=s.gameID,[l,d]=s.drop,u=Object.entries(s.counter||{});return o.useEffect((()=>{t&&p.send("VKWebAppCheckNativeAds",{ad_format:g.INTERSTITIAL}).then((t=>e(!t.result))).catch((t=>{console.log(t)}))})),n("div",{className:ae,children:[i("div",{className:re,children:i(z,{children:u&&u.map((([t,e])=>i(Ut,{type:t,count:e})))})}),n("div",{className:ce,children:[i("span",{children:"score"}),i("span",{children:a})]}),i("div",{className:oe,children:i(z,{children:i(D,{position:"right",type:"coins",value:d||0})})}),!t&&i("div",{className:le,children:i("div",{className:de,children:n(z,{children:[i(D,{position:"left",type:"coins",value:2*(d||0)}),i(U,{size:"l",onClick:()=>{h({popout:"loading",freeze:!0}),p.send("VKWebAppShowNativeAds",{ad_format:g.INTERSTITIAL}).then((()=>{(async(t,e,i,n)=>{try{const{error:s,response:a}=await M("https://user.chamomile.elum.su/game/floral/double",t,e);return s?n(s):i(a)}catch{n({code:1,message:""})}})({id:r},void 0,(()=>{h({view:"main",clear:!0,ignoreFreeze:!0})}),(()=>{h({view:"main",clear:!0,ignoreFreeze:!0})}))})).catch((()=>{h({view:"main",clear:!0,ignoreFreeze:!0})}))},children:"получить x2"})]})})}),i("div",{className:he,children:n(z,{styleElement:{padding:"0 4px",boxSizing:"border-box"},children:[i(Yt,{type:"l",onClick:()=>h({view:"start"}),children:"ИГРАТЬ"}),i(Yt,{type:"l",onClick:()=>h({view:"main"}),children:"НАЗАД"})]})})]})},me=({nav:t})=>{const e=c();return console.log(e),i(l,{fixed:!0,nav:t,header:i(ne,{}),footer:i(se,{}),children:i(ue,{})})},fe=()=>{const t=()=>{},e=t=>{h({view:"playing",params:t})};return o.useEffect((()=>{const i=new AbortController;return(async(t,e,i,n)=>{try{const{error:t,response:s}=await M("https://user.chamomile.elum.su/game/floral/new",{},e);return t?n(t):i(s)}catch{n({code:1,message:""})}})(0,i,e,t),()=>i.abort()}),[]),i(f,{className:"Start__view",activePanel:"default",children:i(l,{nav:"default",children:i(w,{mode:"lower",icon:i(v,{size:"large"}),children:i(x,{})})})})},pe=()=>{const t=c(),e=t.gameID,n=t.story,s=()=>h({view:"error",params:{toView:"end",id:e,story:n}}),a=t=>h({view:"defeat",params:{gameID:e,...t}});return o.useEffect((()=>{const t=new AbortController;return(async(t,e,i,n)=>{try{const{error:s,response:a}=await M("https://user.chamomile.elum.su/game/floral/close",t,e);return s?n(s):i(a)}catch{n({code:1,message:""})}})({id:e,data:n},t,a,s),()=>t.abort()}),[]),i(f,{className:"Start__view",activePanel:"default",children:i(l,{nav:"default",children:i(w,{mode:"lower",icon:i(v,{size:"large"}),children:i(x,{})})})})},ge=()=>{const t=c(),e=t.toView;return i(f,{className:"Start__view",activePanel:"default",children:i(l,{nav:"default",children:i(w,{mode:"lower",icon:i(q,{width:100,height:100}),header:i(y,{size:"medium",weight:"bold",children:"Ошибка сервера"}),action:n(z,{children:[i(U,{size:"l",mode:"outline",streched:!0,onClick:()=>p.send("VKWebAppClose",{status:"success"}),children:"Закрыть"}),i(U,{size:"l",streched:!0,onClick:()=>h({view:e,params:t}),children:"Повторить"})]}),children:i(y,{className:"substring",size:"normal",children:"Неуспешная попытка связаться с сервером. Попробуйте еще раз немного позже."})})})})},we=()=>{const t=m("view");return n(P,{activeView:t,children:[i(ie,{nav:"main"}),i(fe,{nav:"start"}),i(me,{nav:"defeat"}),i(Lt,{nav:"playing"}),i(pe,{nav:"end"}),i(ge,{nav:"error"})]})};export{we as default};
