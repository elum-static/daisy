var t=Object.defineProperty,e=(e,n,i)=>(((e,n,i)=>{n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i})(e,"symbol"!=typeof n?n+"":n,i),i);import{p as n,q as i,r as s,j as r,a,c as h}from"./02d5818d.js";import{c as o,C as c,A as u}from"./ed77a198.js";class d{constructor(){e(this,"ratio",[0,0]),e(this,"width",0),e(this,"height",0),e(this,"unitSize",0),e(this,"partsX",[]),e(this,"partsY",[]),e(this,"update",((t,e,n)=>{if(this.height===n&&this.width===e)return;this.height=n,this.width=e,this.ratio=t;const[i,s]=this.ratio,r=this.height/s;if(r*i>this.width){const t=this.width/i,e=s*t,n=e/s,r=(this.height-e)/2;this.partsX=[],this.partsY=[];for(let s=0;s<i;s++)this.partsX[s]=s*t+t/2;for(let i=0;i<s;i++)this.partsY[i]=i*n+r+t/2;return void(this.unitSize=t)}const a=i*r,h=a/i,o=(this.width-a)/2;for(let c=0;c<i;c++)this.partsX[c]=c*h+o+h/2;for(let c=0;c<s;c++)this.partsY[c]=c*r+h/2;this.unitSize=h})),e(this,"getMeter",(t=>this.meter*t)),e(this,"getY",(t=>this.partsY[t-1]??0)),e(this,"getX",(t=>this.partsX[t-1]??0)),e(this,"getCordinate",((t,e)=>[this.getX(t),this.getY(e)])),e(this,"isCollision",((t,e)=>!(t.x+t.width<e.x||t.x>e.x+e.width||t.y+t.height<e.y||t.y>e.y+e.height))),e(this,"random",((t,e)=>{let n=t-.5+Math.random()*(e-t+1);return Math.round(n)})),e(this,"mutexSet",new Set),e(this,"mutex",((t,e)=>{const n=t.unique,i=e.unique;return!this.mutexSet.has(n+i)&&!this.mutexSet.has(i+n)&&(this.mutexSet.add(n+i),!0)}))}get clampX(){return[this.partsX[0],this.partsX[this.partsX.length-1]+this.meter]}get clampY(){return[this.partsY[0],this.partsY[this.partsY.length-1]+this.meter]}get meter(){return this.unitSize||0}}class l{constructor(t,n,i,s){e(this,"unique"),e(this,"x"),e(this,"y"),e(this,"width"),e(this,"height"),this.x=t,this.y=n,this.width=i,this.height=s,this.unique=function(t){const e="abdehkmnpswxzABDEFGHKMNPQRSTWXZ123456789";for(var n="",i=0;i<t;i++){var s=Math.floor(40*Math.random());n+=e.substring(s,s+1)}return n}(32)}}let g;class f extends l{constructor(){super(0,0,0,0),e(this,"render",((t,e,n)=>{this.width=n.getMeter(1.8),this.height=n.getMeter(.9);const i=this.width/2,[s,r]=n.clampX,a=n.getMeter(1)/2;if(this.x=o(e-i,s-a,r-this.width-a),this.y=n.getY(15)-a,g)return void t.drawImage(g,this.x,this.y,this.width,this.height);const h=new Image(this.width,this.height),c=window.unescape||window.decodeURI;h.src=`data:image/svg+xml;base64,${window.btoa(c(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100"><rect fill="#fff" x="1" y="1" width="198" height="17" rx="8.5" /></svg>')))}`,g=h,t.drawImage(g,this.x,this.y,this.width,this.height)}))}}class w extends l{constructor(t,n,i,s,r){super(t,n,i,s),e(this,"execute"),e(this,"render",((t,e)=>{})),this.execute=()=>r(this)}}var p=(t=>(t.EMPTY="empty",t.DANGER="danger",t.HEART="heart",t.BLUE="blue",t.RED="red",t.WHITE="white",t.YELLOW="yellow",t))(p||{});class m extends l{constructor(t,n,i){super(0,0,0,0),e(this,"type"),e(this,"startTimer"),e(this,"X",0),e(this,"Y",0),e(this,"draw"),e(this,"gravity",0),e(this,"render",((t,e)=>{this.startTimer||(this.startTimer=Date.now(),this.y=e.getY(1)-this.width/2);const n=1e3-t.game.gravity||100;this.width=e.getMeter(1),this.height=e.getMeter(1);const i=this.width/2,[s,r]=e.clampY,a=(r-s)/e.meter,h=Date.now()-this.startTimer;this.x=e.getX(this.X)-i,this.y=this.y+e.getMeter(o(h/n,0,a)),this.draw&&this.draw(),this.startTimer=Date.now()})),this.type=t,this.X=n,this.draw=i}}class x extends m{constructor(t,n,i){super(p.EMPTY,t,(()=>{})),e(this,"positive",(t=>{t.entity.units.delete(this)})),e(this,"negative",(t=>{t.entity.units.delete(this)}))}}let v;class y extends m{constructor(t,n,i){super(p.EMPTY,t,(()=>{if(v)return void n.drawImage(v,this.x,this.y,this.width,this.height);const t=new Image(this.width,this.height),e=window.unescape||window.decodeURI;t.src=`data:image/svg+xml;base64,${window.btoa(e(encodeURIComponent('\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">\n  <defs>\n    <style>.cls-2{fill:#313944}.cls-4{fill:#232323}</style>\n  </defs>\n      <path\n        d="M113 109a193 193 0 0 0-89 228c24 72 88 132 163 143 77 11 164-28 206-94 51-79 32-172-32-237-45-46-108-72-172-65a198 198 0 0 0-76 25Z"\n        class="cls-2" />\n      <path fill="#363f49"\n        d="M272 154c-46 0-106 7-150 29-79 39-92 108-70 172l28 70A196 196 0 0 1 240 85c26 7 34-1 18 29-9 15 6 29 14 40Z" />\n      <path\n        d="M112 108a198 198 0 0 0-46 36 196 196 0 0 0-33 49 193 193 0 0 0-17 117 206 206 0 0 0 19 58 220 220 0 0 0 34 49 213 213 0 0 0 46 38 192 192 0 0 0 55 23 188 188 0 0 0 58 5 221 221 0 0 0 59-13 231 231 0 0 0 53-28 206 206 0 0 0 44-41 187 187 0 0 0 31-55 176 176 0 0 0 9-61 185 185 0 0 0-12-60 215 215 0 0 0-31-55 232 232 0 0 0-47-47 217 217 0 0 0-57-30 200 200 0 0 0-165 15c-1 1 0 3 2 2a196 196 0 0 1 131-22 208 208 0 0 1 61 21 221 221 0 0 1 52 39 229 229 0 0 1 38 51 196 196 0 0 1 21 57 175 175 0 0 1 2 60 179 179 0 0 1-21 60 188 188 0 0 1-37 47 219 219 0 0 1-49 33 225 225 0 0 1-56 20 200 200 0 0 1-58 4 180 180 0 0 1-56-15 202 202 0 0 1-50-31 218 218 0 0 1-39-43 213 213 0 0 1-26-53 197 197 0 0 1-11-60 191 191 0 0 1 34-110 192 192 0 0 1 64-58c1-1 0-3-2-2Z"\n        class="cls-4" />\n      <path\n        d="M308 57c-4-1-8-2-12-1s-7 5-10 8a202 202 0 0 0-29 51c-1 4-3 8-2 13l4 8a264 264 0 0 0 125 100l46-52c46-52-87-117-122-127Z"\n        class="cls-2" />\n      <path\n        d="M308 56c-5-1-10-2-14 0-4 1-7 5-10 8a202 202 0 0 0-28 50c-2 4-3 9-2 14 0 4 3 8 6 11a263 263 0 0 0 33 40 267 267 0 0 0 40 32 266 266 0 0 0 45 24l6 2a1 1 0 0 0 1 0l34-38 8-9 6-7a39 39 0 0 0 5-9 33 33 0 0 0 2-19 52 52 0 0 0-8-18 106 106 0 0 0-15-19 198 198 0 0 0-21-17l-23-15-24-13-21-10-17-6-3-1h-2l2 2c12 3 23 9 35 14a352 352 0 0 1 45 26c14 10 28 21 38 34 8 10 14 23 11 36a34 34 0 0 1-4 9l-10 12-33 37-7 9h1a258 258 0 0 1-44-22 262 262 0 0 1-40-30 261 261 0 0 1-33-37l-7-10c-2-4-4-8-3-13 0-4 2-9 4-13l6-13a204 204 0 0 1 14-23l8-11c2-3 7-6 11-6a27 27 0 0 1 8 1h1l-1-2Z"\n        class="cls-4" />\n      <path\n        d="M301 77c4 10 8 19 14 28s14 15 22 22c16 13 32 25 50 34a157 157 0 0 0 32 11v-1l-1-2c-19-4-37-13-53-23l-24-17c-8-6-16-13-22-21-7-8-12-19-16-29a5 5 0 0 0-1-2h-1Z"\n        class="cls-4" />\n      <path fill="#546370" stroke="#232323" stroke-miterlimit="10" stroke-width=".7"\n        d="M182 112a22 22 0 0 1 13 2c15 7-7 3-44 13-18 5-31 11-37 15a3 3 0 0 1-3 0c-7-4 35-21 39-23 17-5 22-5 32-7Z" />\n      <path fill="#e9d656"\n        d="m342 136 16-36-34-12-10-3 40-10-15-16 24 1-5-41 29 30 8-23 14 23 55-22-32 39 31 20-36 5 19 55-48-36-7 23-13-20-41 35Z" />\n      <path\n        d="m360 23 28 29 8-23 12 21 52-20-30 36 29 19-34 5 18 52-46-34-6 22-13-19-38 32 3-7c7-15 15-32 16-37l-35-12-5-2 38-9-14-16 21 2-4-39m-4-8 1 8 4 36-18-1-7-1 5 5 11 13-33 8-9 2 8 3 5 2 33 11-15 34-3 7-5 11 9-8 36-30 11 16 3 5 2-5 5-19 43 32 7 6-3-9-17-48 31-5 7-1-6-4-27-17 28-34 7-8-10 4-49 19-12-19-3-5-2 5-6 19-25-26-6-6Z"\n        class="cls-4" />\n      <path fill="#f9b938"\n        d="m362 27 27 28 7-22 12 19 47-18-27 33 27 17-32 5 17 49-44-33-6 21-11-18-34 29s18-39 16-39l-36-12 35-9-14-15 20 2-4-37m-4-9 1 10 3 32-15-1h-8l5 5 10 11-30 7-10 3 10 4 17 6 16 5-15 36-6 13 11-10 31-26 10 15 4 6 2-7 4-17 40 30 8 7-3-10-15-45 27-4 9-2-7-4-25-16 25-30 8-9-12 4-44 17-10-17-4-6-2 7-6 17-23-24-6-7Z" />\n      <path fill="#fff"\n        d="m396 91-2 8-5-7-14 12 1-3 6-13-13-5h-1l13-4-5-5h8l-2-14 11 11 2-9 5 8 19-7-11 13 11 7-13 2 7 19Z"\n        opacity=".9" />\n</svg>\n')))}`,v=t,n.drawImage(v,this.x,this.y,this.width,this.height)})),e(this,"positive",(t=>{t.entity.units.delete(this),t.game.heart-=1,0===t.game.heart&&(t.entity.units=new Set,t.game.heart=3,t.game.score=0)})),e(this,"negative",(t=>{t.entity.units.delete(this)}))}}let M;class b extends m{constructor(t,n,i){super(p.EMPTY,t,(()=>{if(M)return void n.drawImage(M,this.x,this.y,this.width,this.height);const t=new Image(this.width,this.height),e=window.unescape||window.decodeURI;t.src=`data:image/svg+xml;base64,${window.btoa(e(encodeURIComponent('\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">\n  <path fill="#f7263f"\n    d="M489 191c0 174-240 264-240 264S10 365 10 191c0-75 58-135 129-135 47 0 88 26 110 64 23-38 64-64 111-64 71 0 129 60 129 135Z" />\n  <path fill="#cc1f3c"\n    d="M489 191c0 174-240 264-240 264s-96-36-166-106c237 70 323-70 323-174 0-81-58-106-85-113a125 125 0 0 1 39-6c71 0 129 60 129 135Z" />\n  <path fill="#ff7683"\n    d="M157 88c-41-4-127 1-115 117a4 4 0 0 0 8 1c10-31 38-89 108-110a4 4 0 0 0-1-8Z" />\n</svg>\n')))}`,M=t,n.drawImage(M,this.x,this.y,this.width,this.height)})),e(this,"positive",(t=>{t.entity.units.delete(this),t.game.heart=o(t.game.heart+1,0,3),t.game.score+=1})),e(this,"negative",(t=>{t.entity.units.delete(this)}))}}const I=(t,e,n,i)=>`\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">\n  <path d="M194 224c-50-25-167-120-36-188s152 52 118 146c-23 64-82 42-82 42Z" fill="${e}" />\n  <path\n    d="M192 99c35 104-34 115-82 50 20 34 60 63 84 75 0 0 59 22 82-42 10-29 16-62 14-90-4 67-50 101-98 7Z"\n    fill="${n}" />\n  <path d="M271 181c12-54 76-191 173-79s-14 159-114 149c-67-8-59-70-59-70Z" fill="${e}" />\n  <path\n    d="M391 149c-93 59-119-6-68-67-28 27-47 73-53 99 0 0-7 62 60 70 32 3 64 0 91-8-66 12-110-25-30-94Z"\n    fill="${n}" />\n  <path d="M353 242c55 3 200 44 106 158s-160 12-165-88c-4-67 59-70 59-70Z" fill="${e}" />\n  <path\n    d="M404 355c-73-81-14-118 55-78-32-23-80-34-106-35 0 0-63 3-59 70 1 32 9 64 22 89-23-63 6-113 88-46Z"\n    fill="${n}" />\n  <path d="M295 314c21 50 48 199-96 165s-80-139 7-188c59-33 89 23 89 23Z" fill="${e}" />\n  <path\n    d="M215 409c42-101 101-64 95 16 7-39-5-87-15-111 0 0-30-56-89-23-28 16-53 37-70 59 47-48 105-44 79 59Z"\n    fill="${n}" />\n  <path d="M197 316c-43 35-177 105-186-43s108-118 180-49c50 47 6 92 6 92Z" fill="${e}" />\n  <path\n    d="M82 268c109 10 91 77 13 95 39-4 81-30 102-47 0 0 44-45-6-92-23-21-50-39-77-49 60 31 73 87-32 93Z"\n    fill="${n}" />\n  <circle cx="263.6" cy="248.2" r="74.9" fill="${t}" transform="rotate(-83 264 248)" />\n  <ellipse cx="245.1" cy="222.7" fill="${i}" rx="43.7" ry="30.6"\n    transform="rotate(-38 245 223)" />\n</svg>\n`;let E;const Y=I("#074f74","#c2f2ff","#40c3f2","#00699b");class S extends m{constructor(t,n,i){super(p.EMPTY,t,(()=>{if(E)return void n.drawImage(E,this.x,this.y,this.width,this.height);const t=new Image(this.width,this.height),e=window.unescape||window.decodeURI;t.src=`data:image/svg+xml;base64,${window.btoa(e(encodeURIComponent(Y)))}`,E=t,n.drawImage(E,this.x,this.y,this.width,this.height)})),e(this,"positive",(t=>{t.entity.units.delete(this),t.game.score+=1})),e(this,"negative",(t=>{t.entity.units.delete(this),t.game.heart-=1,0===t.game.heart&&(t.entity.units=new Set,t.game.heart=3,t.game.score=0)}))}}let R;const T=I("#871938","#e50047","#d00841","#c41d4c");class X extends m{constructor(t,n,i){super(p.EMPTY,t,(()=>{if(R)return void n.drawImage(R,this.x,this.y,this.width,this.height);const t=new Image(this.width,this.height),e=window.unescape||window.decodeURI;t.src=`data:image/svg+xml;base64,${window.btoa(e(encodeURIComponent(T)))}`,R=t,n.drawImage(R,this.x,this.y,this.width,this.height)})),e(this,"positive",(t=>{t.entity.units.delete(this),t.game.score+=1})),e(this,"negative",(t=>{t.entity.units.delete(this),t.game.heart-=1,0===t.game.heart&&(t.entity.units=new Set,t.game.heart=3,t.game.score=0)}))}}let C;const Z=I("#ed407e","#ffeef4","#ffd2e2","#ff99c3");class A extends m{constructor(t,n,i){super(p.EMPTY,t,(()=>{if(C)return void n.drawImage(C,this.x,this.y,this.width,this.height);const t=new Image(this.width,this.height),e=window.unescape||window.decodeURI;t.src=`data:image/svg+xml;base64,${window.btoa(e(encodeURIComponent(Z)))}`,C=t,n.drawImage(C,this.x,this.y,this.width,this.height)})),e(this,"positive",(t=>{t.entity.units.delete(this),t.game.score+=1})),e(this,"negative",(t=>{t.entity.units.delete(this),t.game.heart-=1,0===t.game.heart&&(t.entity.units=new Set,t.game.heart=3,t.game.score=0)}))}}let U;const $=I("#9b4d0d","#fec700","#f69f16","#c6934f");class _ extends m{constructor(t,n,i){super(p.EMPTY,t,(()=>{if(U)return void n.drawImage(U,this.x,this.y,this.width,this.height);const t=new Image(this.width,this.height),e=window.unescape||window.decodeURI;t.src=`data:image/svg+xml;base64,${window.btoa(e(encodeURIComponent($)))}`,U=t,n.drawImage(U,this.x,this.y)})),e(this,"positive",(t=>{t.entity.units.delete(this),t.game.score+=1})),e(this,"negative",(t=>{t.entity.units.delete(this),t.game.heart-=1,0===t.game.heart&&(t.entity.units=new Set,t.game.heart=3,t.game.score=0)}))}}var z={};!function(t,e,n){function i(t){var e=this,n=function(){var t=4022871197,e=function(e){e=String(e);for(var n=0;n<e.length;n++){var i=.02519603282416938*(t+=e.charCodeAt(n));i-=t=i>>>0,t=(i*=t)>>>0,t+=4294967296*(i-=t)}return 2.3283064365386963e-10*(t>>>0)};return e}();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function r(t,e){var n=new i(t),r=e&&e.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}e&&e.exports?e.exports=r:this.alea=r}(0,{get exports(){return z},set exports(t){z=t}});var j={};!function(t,e,n){function i(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var i=0;i<n.length+64;i++)e.x^=0|n.charCodeAt(i),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function r(t,e){var n=new i(t),r=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}e&&e.exports?e.exports=r:this.xor128=r}(0,{get exports(){return j},set exports(t){j=t}});var k={};!function(t,e,n){function i(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var i=0;i<n.length+64;i++)e.x^=0|n.charCodeAt(i),i==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function r(t,e){var n=new i(t),r=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}e&&e.exports?e.exports=r:this.xorwow=r}(0,{get exports(){return k},set exports(t){k=t}});var q={};!function(t,e,n){function i(t){var e=this;e.next=function(){var t,n,i=e.x,s=e.i;return t=i[s],n=(t^=t>>>7)^t<<24,n^=(t=i[s+1&7])^t>>>10,n^=(t=i[s+3&7])^t>>>3,n^=(t=i[s+4&7])^t<<7,t=i[s+7&7],n^=(t^=t<<13)^t<<9,i[s]=n,e.i=s+1&7,n},function(t,e){var n,i=[];if(e===(0|e))i[0]=e;else for(e=""+e,n=0;n<e.length;++n)i[7&n]=i[7&n]<<15^e.charCodeAt(n)+i[n+1&7]<<13;for(;i.length<8;)i.push(0);for(n=0;n<8&&0===i[n];++n);for(8==n?i[7]=-1:i[n],t.x=i,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function r(t,e){null==t&&(t=+new Date);var n=new i(t),r=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}e&&e.exports?e.exports=r:this.xorshift7=r}(0,{get exports(){return q},set exports(t){q=t}});var D={};!function(t,e,n){function i(t){var e=this;e.next=function(){var t,n,i=e.w,s=e.X,r=e.i;return e.w=i=i+1640531527|0,n=s[r+34&127],t=s[r=r+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=s[r]=n^t,e.i=r,n+(i^i>>>16)|0},function(t,e){var n,i,s,r,a,h=[],o=128;for(e===(0|e)?(i=e,e=null):(e+="\0",i=0,o=Math.max(o,e.length)),s=0,r=-32;r<o;++r)e&&(i^=e.charCodeAt((r+32)%e.length)),0===r&&(a=i),i^=i<<10,i^=i>>>15,i^=i<<4,i^=i>>>13,r>=0&&(a=a+1640531527|0,s=0==(n=h[127&r]^=i+a)?s+1:0);for(s>=128&&(h[127&(e&&e.length||0)]=-1),s=127,r=512;r>0;--r)i=h[s+34&127],n=h[s=s+1&127],i^=i<<13,n^=n<<17,i^=i>>>15,n^=n>>>12,h[s]=i^n;t.w=a,t.X=h,t.i=s}(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function r(t,e){null==t&&(t=+new Date);var n=new i(t),r=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}e&&e.exports?e.exports=r:this.xor4096=r}(0,{get exports(){return D},set exports(t){D=t}});var F={};!function(t,e,n){function i(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,i=e.d,s=e.a;return t=t<<25^t>>>7^n,n=n-i|0,i=i<<24^i>>>8^s,s=s-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-i|0,e.d=i<<16^n>>>16^s,e.a=s-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var i=0;i<n.length+20;i++)e.b^=0|n.charCodeAt(i),e.next()}function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function r(t,e){var n=new i(t),r=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}e&&e.exports?e.exports=r:this.tychei=r}(0,{get exports(){return F},set exports(t){F=t}});var P={},N={get exports(){return P},set exports(t){P=t}};const L=i(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var B;B=N,function(t,e,n){var i,s=256,r="random",a=n.pow(s,6),h=n.pow(2,52),o=2*h,c=s-1;function u(c,u,p){var m=[],x=f(g((u=1==u?{entropy:!0}:u||{}).entropy?[c,w(e)]:null==c?function(){try{var n;return i&&(n=i.randomBytes)?n=n(s):(n=new Uint8Array(s),(t.crypto||t.msCrypto).getRandomValues(n)),w(n)}catch(h){var r=t.navigator,a=r&&r.plugins;return[+new Date,t,a,t.screen,w(e)]}}():c,3),m),v=new d(m),y=function(){for(var t=v.g(6),e=a,n=0;t<h;)t=(t+n)*s,e*=s,n=v.g(1);for(;t>=o;)t/=2,e/=2,n>>>=1;return(t+n)/e};return y.int32=function(){return 0|v.g(4)},y.quick=function(){return v.g(4)/4294967296},y.double=y,f(w(v.S),e),(u.pass||p||function(t,e,i,s){return s&&(s.S&&l(s,v),t.state=function(){return l(v,{})}),i?(n[r]=t,e):t})(y,x,"global"in u?u.global:this==n,u.state)}function d(t){var e,n=t.length,i=this,r=0,a=i.i=i.j=0,h=i.S=[];for(n||(t=[n++]);r<s;)h[r]=r++;for(r=0;r<s;r++)h[r]=h[a=c&a+t[r%n]+(e=h[r])],h[a]=e;(i.g=function(t){for(var e,n=0,r=i.i,a=i.j,h=i.S;t--;)e=h[r=c&r+1],n=n*s+h[c&(h[r]=h[a=c&a+e])+(h[a]=e)];return i.i=r,i.j=a,n})(s)}function l(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function g(t,e){var n,i=[],s=typeof t;if(e&&"object"==s)for(n in t)try{i.push(g(t[n],e-1))}catch(r){}return i.length?i:"string"==s?t:t+"\0"}function f(t,e){for(var n,i=t+"",s=0;s<i.length;)e[c&s]=c&(n^=19*e[c&s])+i.charCodeAt(s++);return w(e)}function w(t){return String.fromCharCode.apply(0,t)}if(f(n.random(),e),B.exports){B.exports=u;try{i=L}catch(p){}}else n["seed"+r]=u}("undefined"!=typeof self?self:n,[],Math);var H=z,W=j,G=k,O=q,V=D,K=F,Q=P;Q.alea=H,Q.xor128=W,Q.xorwow=G,Q.xorshift7=O,Q.xor4096=V,Q.tychei=K;var J=Q;class tt{constructor(t,n,i=1,s=9){e(this,"rand"),e(this,"parts"),e(this,"min"),e(this,"max"),e(this,"getItem",(()=>{const t=this.random(this.min,this.max,this.rand());return[this.spawn(this.parts,this.rand()),t]})),e(this,"random",((t,e,n)=>{let i=t-.5+n*(e-t+1);return Math.round(i)})),e(this,"spawn",((t,e)=>{const n=e*t.reduce(((t,[e,n])=>t+n),0);let i=0;for(const[s,r]of t)if(i+=r,n<i)return s;return"empty"})),this.rand=J(t),this.parts=n,this.min=i,this.max=s}}const et=window&&"ontouchstart"in window,nt=()=>{const[[t,e],n]=s.useState([3,0]),i=s.useRef(new d).current,o=s.useRef({game:{map:new tt("GibnGTDFFCV876",[[p.EMPTY,5],[p.DANGER,4.8],[p.HEART,.2],[p.BLUE,5],[p.RED,15],[p.WHITE,30],[p.YELLOW,40]]),platform:i.getY(3),gravity:0,score:0,heart:3},entity:{player:new f,units:new Set,blocks:new Set}}).current,l=t=>{console.log("end")},g=t=>{console.log("end")};return r("div",{className:"Florist",children:[a(c,{quality:2,limitFrames:120,onRender:({width:t,height:e,quality:s,context:r,next:a})=>{n([o.game.heart,o.game.score]),r.clearRect(0,0,t,e),i.update([9,16],t,e),0===o.entity.units.size&&o.entity.units.add(new x(1,r,i)),o.game.gravity=function(t){switch(!0){case t<20:return 800;case t<40:return 820;case t<60:return 840;case t<80:return 860;case t<100:return 880;case t<120:return 900;case t<140:return 920;case t<160:return 930;case t<180:return 940;default:return 950}}(o.game.score),o.entity.units.forEach((t=>{t.render(o,i),i.isCollision(o.entity.player,t)&&t.positive(o)})),o.entity.blocks.forEach((t=>{t.render(r,i),t.execute()})),o.entity.player.render(r,o.game.platform,i),a()},onInitial:({width:t,height:e,quality:n,context:s,next:r})=>{i.update([9,16],t,e),o.game.platform=i.getX(5),o.entity.blocks.add(new w(i.getX(1),i.getY(16),i.getMeter(9),i.getMeter(1),(t=>{o.entity.units.forEach((e=>{i.isCollision(t,e)&&i.mutex(t,e)&&e.negative(o)}))}))),o.entity.blocks.add(new w(i.getX(1),i.getY(5),i.getMeter(9),i.getMeter(4),(t=>{o.entity.units.forEach((e=>{if(i.isCollision(t,e)&&i.mutex(t,e)){const[t,e]=o.game.map.getItem();if(t===p.EMPTY){const t=new x(e,s,i);return void o.entity.units.add(t)}if(t===p.DANGER){const t=new y(e,s,i);return void o.entity.units.add(t)}if(t===p.HEART){const t=new b(e,s,i);return void o.entity.units.add(t)}if(t===p.BLUE){const t=new S(e,s,i);return void o.entity.units.add(t)}if(t===p.RED){const t=new X(e,s,i);return void o.entity.units.add(t)}if(t===p.WHITE){const t=new A(e,s,i);return void o.entity.units.add(t)}if(t===p.YELLOW){const t=new _(e,s,i);return void o.entity.units.add(t)}}}))}))),r()},...et?{onTouchStart:t=>{const e=t.touches[0];e&&(o.game.platform=2*e.clientX)},onTouchMove:t=>{const e=t.touches[0];e&&(o.game.platform=2*e.clientX)},onTouchEnd:l,onTouchCancel:l}:{onMouseDown:t=>{},onMouseMove:t=>{console.log("move")},onMouseUp:g,onMouseLeave:g}}),r("div",{className:"Florist__absolute",children:[a(u,{width:9,height:16,before:r("div",{className:h("Florist_counter",{"Florist_counter--hard":e>20&&e<50,"Florist_counter--extreme":e>50}),children:[a("div",{className:"Florist_hearts",children:Array.from(Array(3)).map(((e,n)=>a("div",{className:h("Florist_heart",{"Florist_heart--active":n<t})},n)))}),a("span",{children:"score"}),a("span",{children:e})]}),after:a("div",{className:"Florist__cloud",children:r("div",{className:"Florist__inner",children:[a("span",{}),a("span",{}),a("span",{}),a("span",{}),a("span",{}),a("span",{}),a("span",{}),a("span",{}),a("span",{}),a("span",{}),a("span",{})]})})}),a("div",{className:"Florist__footer"})]})]})};export{nt as default};
